(window.webpackJsonp=window.webpackJsonp||[]).push([[209],{628:function(t,s,a){"use strict";a.r(s);var n=a(16),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"文字内容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文字内容"}},[t._v("#")]),t._v(" 文字内容")]),t._v(" "),a("p",[t._v("文字：字母和数字，单词和短语，句子和段落。这就是我们在网页中传达大多数含义的方式。文字内容向读者（不仅仅是“访客”）提供信息，描述，解释概念和程序。这是网络交流的基础。")]),t._v(" "),a("p",[t._v("网络上的文本内容始终具有某种结构-即使仅是自上而下和某些格式-即使仅在默认情况下也是如此。它也可以根据读者的行为或作者的意图表现出行为，移动或变化，出现或消失。但是，就其本身而言，文本内容没有这些品质和能力。其结构，外观和行为会受到其他基于文本的资源（例如 HTML，CSS 和 JavaScript 代码）的实现和影响。")]),t._v(" "),a("p",[t._v("在网页中，必须从服务器获取该内容，结构，格式和行为的每个字符，并将其下载到浏览器，这绝对是不平凡的任务。在本节中，我们将介绍一些有效的方法来加速文本内容的加载。")]),t._v(" "),a("h2",{attrs:{id:"将开发与部署分开"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#将开发与部署分开"}},[t._v("#")]),t._v(" 将开发与部署分开")]),t._v(" "),a("p",[t._v("当您减少文本资源的大小并采取其他影响其可读性的操作时，请务必记住，一旦修改了一部分代码以进行部署，通常您将无法再读取它，更不用说对其进行维护了。始终将开发文件和部署文件分开，以避免将开发文件替换为部署版本。尽管，如果确实发生了这种情况，但是代码美化程序或“ unminifier”（例如，"),a("a",{attrs:{href:"http://unminify.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://unminify.com/"),a("OutboundLink")],1),t._v("）可能会节省一天的时间。")]),t._v(" "),a("h2",{attrs:{id:"缩小代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#缩小代码"}},[t._v("#")]),t._v(" 缩小代码")]),t._v(" "),a("p",[t._v("一种简单有效的方法是"),a("em",[t._v("minification")]),t._v("，它实质上是通过在不更改其有效性或功能的情况下删除其空白和不必要的字符来压缩文本资源。听起来没什么用，但是有用。例如，此小功能（表排序脚本的一部分）最初包含 348 个字符。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sortables_init")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Find all tables with class sortable and make them sortable")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getElementsByTagName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" tbls "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementsByTagName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'table'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ti "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" ti "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" tbls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" ti"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    thisTbl "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tbls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("ti"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("' '")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" thisTbl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("className "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("' '")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("indexOf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sortable'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" thisTbl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ts_makeSortable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("thisTbl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("缩小后，看起来像这样，仅包含 257 个字符。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sortables_init")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getElementsByTagName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" tbls "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementsByTagName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'table'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ti "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" ti "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" tbls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" ti"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    thisTbl "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tbls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("ti"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" thisTbl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("className "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("indexOf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sortable'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" thisTbl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ts_makeSortable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("thisTbl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("当然，我们现在无法阅读，但浏览器仍然可以。大小和所需的下载时间减少了 26％；即使对于这个小样本也非常重要。")]),t._v(" "),a("p",[t._v("从更大的角度看，该片段所来自的整个脚本块超过 10k，但是在缩小之后，它减少到了 5,411 个字符，减少了 48％。")]),t._v(" "),a("p",[t._v("可以用相同的方式最小化 HTML 和 CSS，以便您可以缩短格式设置和行为相关代码的加载时间。")]),t._v(" "),a("p",[t._v("许多（许多！）在线和桌面缩小工具都可用。由于其长久且稳定的特性，最受欢迎的在线工具之一是 "),a("a",{attrs:{href:"https://kangax.github.io/html-minifier/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Kangax HTML Minifier"),a("OutboundLink")],1),t._v("，它为缩小的代码提供了广泛的输出自定义选项。")]),t._v(" "),a("p",[t._v("其他缩小工具包括：")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://www.minifier.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Minifier"),a("OutboundLink")],1),t._v("：在线工具可通过复制和粘贴来最小化 JavaScript 或 CSS。")]),t._v(" "),a("li",[a("a",{attrs:{href:"http://www.willpeavy.com/minifier/",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTML Minifier"),a("OutboundLink")],1),t._v("：此在线工具还可以处理 HTML，并自动识别代码类型。")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.npmjs.com/package/grunt-html-minify",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node module for Grunt"),a("OutboundLink")],1),t._v("：集成到 Grunt 工作流程中的 NPM 缩小软件包。")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.npmjs.com/package/gulp-html-minifier",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node module for Gulp"),a("OutboundLink")],1),t._v("：一个集成到 Gulp 工作流程中的 NPM 缩小软件包。")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.npmjs.com/package/html-minifier",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node module for HTML Minifier"),a("OutboundLink")],1),t._v("：一个 NPM 软件包，其中包括一个有用的图表，将其压缩结果与其他方法进行了比较。")])]),t._v(" "),a("h3",{attrs:{id:"构架"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#构架"}},[t._v("#")]),t._v(" 构架")]),t._v(" "),a("p",[t._v("当然，您在编写时会（或将）使用框架，IDE 或其他结构化环境的机会很大，而不是一次将代码复制/粘贴到 Web 应用程序中一个文件。大多数现代系统具有内置的功能，可在构建过程中使开发文件与部署分开，并能够在执行过程中执行各种转换，如缩小。")]),t._v(" "),a("p",[t._v("例如，包含 HTML 缩小的 Gulp 开发到部署任务可能看起来像这样。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" gulp "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'gulp'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" htmlmin "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'gulp-html-minifier'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ngulp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("task")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'minify'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  gulp\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./src/*.html'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//development location")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pipe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("htmlmin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" collapseWhitespace"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pipe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gulp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("dest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./dist'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//deployment location")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("该任务的执行命令将是：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("gulp minify\n")])])]),a("p",[t._v("（来源："),a("a",{attrs:{href:"https://www.npmjs.com/package/gulp-html-minifier",target:"_blank",rel:"noopener noreferrer"}},[t._v("npmjs"),a("OutboundLink")],1),t._v("）")]),t._v(" "),a("p",[t._v("请注意，该任务将 HTML 文件从其原始位置传递到部署位置，从而在构建期间将它们最小化。这不仅防止了源文件的潜在不可逆修改，而且避免了在以后的开发和测试过程中污染生产环境。")]),t._v(" "),a("h2",{attrs:{id:"压缩文字资源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#压缩文字资源"}},[t._v("#")]),t._v(" 压缩文字资源")]),t._v(" "),a("p",[t._v("到目前为止，我们已经讨论了有关单个图像和文本文件的压缩。但是，如果我们还可以让我们的服务器自动压缩整个文件集，那也将有所帮助，这就是 Gzip 的用处。")]),t._v(" "),a("p",[t._v("Gzip 是用于压缩和解压缩文件的应用程序（及其文件格式）。与单独文件压缩一样，它通过减小资源大小来减少传递服务器响应所需的时间。可通过 GNU Project 网站获得。")]),t._v(" "),a("p",[t._v("https://www.gnu.org/software/gzip/")]),t._v(" "),a("p",[t._v("Gzip 在文本资源上表现最佳，并且可以定期实现高达 70％的压缩（对于大文件甚至更高）。但是，压缩已单独压缩的非文本资源（例如图像）通常不会显着减小大小。")]),t._v(" "),a("p",[t._v("与基于桌面或基于浏览器的本地压缩不同，Gzip 在服务器上用于识别和处理您指定的某些文件类型。尽管所有现代浏览器都支持 HTTP 请求的 Gzip 压缩，但您必须正确配置服务器以在请求压缩资源时将其交付。当然，不同的服务器类型具有不同的设置要求。例如，您可以通过"),a("code",[t._v(".htaccess")]),t._v("文件配置 Apache 服务器，该文件将包含以下内容。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("<IfModule deflate_module>\n    # Enable compression for the following file types\n    AddOutputFilterByType           \\\n     DEFLATE                        \\\n      application/javascript        \\\n      text/css                      \\\n      text/html                     \\\n      text/javascript               \\\n      text/plain                    \\\n      text/xml\n</IfModule>\n")])])]),a("p",[t._v("BetterExplained 上有一篇有关"),a("a",{attrs:{href:"https://betterexplained.com/articles/how-to-optimize-your-site-with-gzip-compression/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gzip 压缩"),a("OutboundLink")],1),t._v("的非常好的文章，包括背景信息，示例和警告。")]),t._v(" "),a("p",[t._v("因此，在服务器上启用 GZip 后，如何知道它实际上是否在提供压缩文件？一种简单的查找方法是在 GIDNetwork 的 Gzip 测试站点进行检查。")]),t._v(" "),a("p",[t._v("http://www.gidnetwork.com/tools/gzip-test.php")]),t._v(" "),a("p",[t._v("该报告包括有关站点压缩的一般信息，一个有趣的“假设条件”图表，该图表显示了在各种 Gzip 压缩级别下站点将获得多少压缩，以及响应标题和页面源。")]),t._v(" "),a("p",[t._v("在这里，我们对 GIDNetwork 自己的根 URL 进行了测试-有趣的是，它似乎没有被压缩。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://developers.google.cn/web/fundamentals/performance/get-started/images/image_303.png",alt:"GIDNetwork"}})]),t._v(" "),a("p",[t._v("Gzip 可以进一步压缩已经压缩的文件，这是一种有效的方法。实际上，要获得基于文本的资源的最大压缩率，请先在部署之前分别对其进行最小化，然后在交付时通过启用 Gzip 的服务器对其进行压缩。")]),t._v(" "),a("h2",{attrs:{id:"减少-library-使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#减少-library-使用"}},[t._v("#")]),t._v(" 减少 Library 使用")]),t._v(" "),a("p",[t._v("流行的 CSS 和 JavaScript 库会尽力减少和压缩其下载文件，但总的来说，它们仍然是相当严重的带宽消耗者。例如，jQuery（取决于版本和所应用的压缩算法）的范围可能从 28k 到 250k 以上。如果需要给定库的大多数功能，则可以；但是如果您只需要一两个特定的东西，则可以通过将这些功能替换为一次性功能或 CSS 规则来节省大量下载时间。")]),t._v(" "),a("p",[t._v("例如，一个网站可能使用 jQuery 的便捷"),a("code",[t._v("toggleClass")]),t._v("功能来翻转类，以执行特定的操作。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("$(el).toggleClass(className);\n")])])]),a("p",[t._v("是的，它很好用，并且很容易编写代码，但是 jQuery 的大量下载开销只是一种效果。您可能会考虑将庞大的库换成更小的单一用途函数（来源："),a("a",{attrs:{href:"http://youmightnotneedjquery.com/#toggle_class",target:"_blank",rel:"noopener noreferrer"}},[t._v("You Might Not Need jQuery"),a("OutboundLink")],1),t._v(" ）。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("classList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  el"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("classList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toggle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("className"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" classes "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" el"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("className"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("' '")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" existingIndex "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" classes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("indexOf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("className"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("existingIndex "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" classes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("splice")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("existingIndex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" classes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("className"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  el"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("className "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" classes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("' '")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("关键是，如果您不需要整个 250k 的库，请不要下载它。而是查找并使用仅满足您需要的小型单一用途例程。（并且不要忘记缩小它们！）")]),t._v(" "),a("p",[t._v("在"),a("a",{attrs:{href:"http://youmightnotneedjquery.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("You Might Not Need jQuery"),a("OutboundLink")],1),t._v("时，您可以找到 jQuery 代码的许多有趣且直截了当的替代方法 ，该指南探讨了现代 Web 的发展方式，以提供与以前使用 jQuery 相同的功能。")]),t._v(" "),a("h2",{attrs:{id:"摘要"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#摘要"}},[t._v("#")]),t._v(" 摘要")]),t._v(" "),a("p",[t._v("虽然像图像这样的大件物品往往会引起人们对速度提高的关注，但文本资源（无疑是大多数网站的主要内容）通常被忽略了。寻找加快网页浏览速度的方法时，请不要忽略可见的和幕后的基于文本的组件。")])])}),[],!1,null,null,null);s.default=e.exports}}]);