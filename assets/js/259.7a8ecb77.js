(window.webpackJsonp=window.webpackJsonp||[]).push([[259],{591:function(e,t,r){"use strict";r.r(t);var o=r(16),n=Object(o.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"测量性能工具"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#测量性能工具"}},[e._v("#")]),e._v(" 测量性能工具")]),e._v(" "),r("p",[e._v("建立具有低成本数据的高性能，弹性站点有几个核心目标。")]),e._v(" "),r("p",[e._v("对于每个目标，您都需要进行审核。")]),e._v(" "),r("table",[r("thead",[r("tr",[r("th",{staticStyle:{"text-align":"left"}},[r("strong",[e._v("目的")])]),e._v(" "),r("th",{staticStyle:{"text-align":"left"}},[r("strong",[e._v("为什么？")])]),e._v(" "),r("th",{staticStyle:{"text-align":"left"}},[r("strong",[e._v("要测试什么？")])])])]),e._v(" "),r("tbody",[r("tr",[r("td",{staticStyle:{"text-align":"left"}},[e._v("确保隐私，安全性和数据完整性，并支持强大的 API 使用")]),e._v(" "),r("td",{staticStyle:{"text-align":"left"}},[r("a",{attrs:{href:"https://developers.google.cn/web/fundamentals/security/encrypt-in-transit/why-https",target:"_blank",rel:"noopener noreferrer"}},[e._v("为什么 HTTPS 很重要"),r("OutboundLink")],1)]),e._v(" "),r("td",{staticStyle:{"text-align":"left"}},[e._v("为所有站点页面/路由和资产实施 HTTPS。")])]),e._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[e._v("改善负载性能")]),e._v(" "),r("td",{staticStyle:{"text-align":"left"}},[r("a",{attrs:{href:"https://www.doubleclickbygoogle.com/articles/mobile-speed-matters/",target:"_blank",rel:"noopener noreferrer"}},[e._v("53％的用户放弃"),r("OutboundLink")],1),e._v("了加载时间超过三秒钟的"),r("a",{attrs:{href:"https://www.doubleclickbygoogle.com/articles/mobile-speed-matters/",target:"_blank",rel:"noopener noreferrer"}},[e._v("网站"),r("OutboundLink")],1)]),e._v(" "),r("td",{staticStyle:{"text-align":"left"}},[e._v("可以异步加载或延迟加载的 JavaScript 和 CSS。为互动和有效负载大小设置时间目标：例如 3G 上的 TTI。"),r("a",{attrs:{href:"https://infrequently.org/2017/10/can-you-afford-it-real-world-web-performance-budgets/",target:"_blank",rel:"noopener noreferrer"}},[e._v("设定绩效预算"),r("OutboundLink")],1),e._v("。")])]),e._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[e._v("减轻页面重量")]),e._v(" "),r("td",{staticStyle:{"text-align":"left"}},[e._v("•为具有上限数据计划的用户降低数据成本 •降低 Web 应用程序存储需求-对使用低规格设备的用户尤为重要 •降低托管和服务成本 •改善服务性能，可靠性和弹性")]),e._v(" "),r("td",{staticStyle:{"text-align":"left"}},[e._v("设置页面权重预算：例如，首次加载低于 400 kB。检查是否有大量 JavaScript。检查文件大小以查找肿的图像，媒体，HTML，CSS 和 JavaScript。查找可能会延迟加载的图像，并使用"),r("a",{attrs:{href:"https://developers.google.cn/web/updates/2017/04/devtools-release-notes#coverage",target:"_blank",rel:"noopener noreferrer"}},[e._v("coverage 工具"),r("OutboundLink")],1),e._v("检查未使用的代码 。")])]),e._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[e._v("减少资源需求")]),e._v(" "),r("td",{staticStyle:{"text-align":"left"}},[e._v("•减少 "),r("a",{attrs:{href:"https://www.igvita.com/2012/07/19/latency-the-new-web-performance-bottleneck/",target:"_blank",rel:"noopener noreferrer"}},[e._v("延迟问题"),r("OutboundLink")],1),e._v(" •降低服务成本 •改善服务性能，可靠性和弹性")]),e._v(" "),r("td",{staticStyle:{"text-align":"left"}},[e._v("查找对任何类型资源的过多或不必要的请求。例如：反复加载的文件，以多个版本加载的 JavaScript，从不使用的 CSS，从不查看（或可以延迟加载）的图像。")])]),e._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[e._v("优化内存使用")]),e._v(" "),r("td",{staticStyle:{"text-align":"left"}},[r("a",{attrs:{href:"https://timkadlec.com/2013/11/why-we-need-responsive-images-part-deux/",target:"_blank",rel:"noopener noreferrer"}},[e._v("内存可能成为新的瓶颈"),r("OutboundLink")],1),e._v("，尤其是在移动设备上")]),e._v(" "),r("td",{staticStyle:{"text-align":"left"}},[e._v("加载首页和使用其他网站功能时，请使用 Chrome 任务管理器将您的网站与其他网站进行比较，以了解内存使用情况。")])]),e._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[e._v("减少 CPU 负载")]),e._v(" "),r("td",{staticStyle:{"text-align":"left"}},[e._v("移动设备的 CPU 有限，尤其是低规格设备")]),e._v(" "),r("td",{staticStyle:{"text-align":"left"}},[e._v("检查是否有大量 JavaScript。使用"),r("a",{attrs:{href:"https://developers.google.cn/web/updates/2017/04/devtools-release-notes#coverage",target:"_blank",rel:"noopener noreferrer"}},[e._v("覆盖工具"),r("OutboundLink")],1),e._v("查找未使用的 JavaScript 和 CSS 。检查是否有"),r("a",{attrs:{href:"https://developers.google.cn/web/tools/lighthouse/audits/dom-size",target:"_blank",rel:"noopener noreferrer"}},[e._v("过多的 DOM 大小"),r("OutboundLink")],1),e._v("以及在首次加载时不必要地运行的脚本。寻找加载有多个版本的 JavaScript 或通过较小的重构可以避免的库。")])])])]),e._v(" "),r("p",[e._v("有多种工具和技术可用于审核网站：")]),e._v(" "),r("ul",[r("li",[e._v("系统工具")]),e._v(" "),r("li",[e._v("内置浏览器工具")]),e._v(" "),r("li",[e._v("浏览器扩展")]),e._v(" "),r("li",[e._v("在线测试应用")]),e._v(" "),r("li",[e._v("仿真工具")]),e._v(" "),r("li",[e._v("分析工具")]),e._v(" "),r("li",[e._v("服务器和业务系统提供的指标")]),e._v(" "),r("li",[e._v("屏幕和录像")]),e._v(" "),r("li",[e._v("手动测试")])]),e._v(" "),r("p",[e._v("您将在下面了解与每种审核类型相关的方法。")]),e._v(" "),r("p",[r("strong",[e._v("图片构成迄今为止 "),r("a",{attrs:{href:"http://httparchive.org/interesting.php#bytesperpage",target:"_blank",rel:"noopener noreferrer"}},[e._v("最重"),r("OutboundLink")],1),e._v("和 "),r("a",{attrs:{href:"http://httparchive.org/trends.php#bytesImg&reqImg",target:"_blank",rel:"noopener noreferrer"}},[e._v("最请求"),r("OutboundLink")],1),e._v("对于大多数网页。")])]),e._v(" "),r("p",[r("a",{attrs:{href:"https://www.igvita.com/2012/07/19/latency-the-new-web-performance-bottleneck/",target:"_blank",rel:"noopener noreferrer"}},[e._v("随着连接性的恶化，延迟"),r("OutboundLink")],1),e._v("也会越来越严重，因此随着网络的移动，过多的图像文件请求成为一个日益严重的问题。图像还会消耗功率：更多图像请求，更多无线电使用，更多电量耗尽的电池。"),r("a",{attrs:{href:"http://httparchive.org/trends.php#bytesImg&reqImg",target:"_blank",rel:"noopener noreferrer"}},[e._v("即使只是渲染图像也要消耗能量"),r("OutboundLink")],1),e._v(" -这与图像的大小和数量成正比。")]),e._v(" "),r("p",[e._v("同样对于内存：像素尺寸的微小增加会导致内存使用量的大幅增加。在移动设备上（尤其是在低规格设备上）使用图像时， "),r("a",{attrs:{href:"https://timkadlec.com/2013/11/why-we-need-responsive-images-part-deux/",target:"_blank",rel:"noopener noreferrer"}},[e._v("内存可能成为新的瓶颈"),r("OutboundLink")],1),e._v("。膨胀的图像对于使用上限数据计划的用户也有问题。")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://developers.google.cn/web/fundamentals/design-and-ui/responsive/content#viewport",target:"_blank",rel:"noopener noreferrer"}},[e._v("删除多余的图像"),r("OutboundLink")],1),e._v("！如果无法摆脱它们，请进行优化：尽可能提高压缩率，减小像素尺寸，并使用能为您提供最小文件大小的格式。优化诸如横幅和背景之类的“英雄形象”是一次轻松的一次性胜利。")]),e._v(" "),r("h2",{attrs:{id:"记录资源请求-数量-大小-类型和时间"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#记录资源请求-数量-大小-类型和时间"}},[e._v("#")]),e._v(" 记录资源请求：数量，大小，类型和时间")]),e._v(" "),r("p",[e._v("审核站点时，一个不错的起点是使用浏览器的网络工具检查页面。如果您不确定如何执行此操作，请浏览 Chrome DevTools 网络面板 "),r("a",{attrs:{href:"https://developers.google.cn/web/tools/chrome-devtools/network-performance",target:"_blank",rel:"noopener noreferrer"}},[e._v("入门指南"),r("OutboundLink")],1),e._v("。类似的工具可用于 "),r("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Tools/Network_Monitor",target:"_blank",rel:"noopener noreferrer"}},[e._v("Firefox"),r("OutboundLink")],1),e._v("， "),r("a",{attrs:{href:"https://developer.apple.com/library/content/documentation/AppleApplications/Conceptual/Safari_Developer_Guide/Instruments/Instruments.html#//apple_ref/doc/uid/TP40007874-CH4-SW1",target:"_blank",rel:"noopener noreferrer"}},[e._v("Safari"),r("OutboundLink")],1),e._v("， "),r("a",{attrs:{href:"https://msdn.microsoft.com/en-us/library/gg130952(v=vs.85).aspx",target:"_blank",rel:"noopener noreferrer"}},[e._v("Internet Explorer"),r("OutboundLink")],1),e._v("和 "),r("a",{attrs:{href:"https://docs.microsoft.com/en-us/microsoft-edge/f12-devtools-guide/network",target:"_blank",rel:"noopener noreferrer"}},[e._v("Edge"),r("OutboundLink")],1),e._v("。")]),e._v(" "),r("p",[e._v("进行更改之前，请记住记录结果。对于网络请求，就像截图一样简单-您还可以 "),r("a",{attrs:{href:"https://developers.google.cn/web/tools/chrome-devtools/evaluate-performance/timeline-tool#save_and_load_recordings",target:"_blank",rel:"noopener noreferrer"}},[e._v("将配置文件数据另存"),r("OutboundLink")],1),e._v("为 JSON 文件。以下是有关"),r("a",{attrs:{href:"https://developers.google.cn/web/fundamentals/performance/audit/tools#save_the_results",target:"_blank",rel:"noopener noreferrer"}},[e._v("如何保存和共享测试结果"),r("OutboundLink")],1),e._v("的更多信息。")]),e._v(" "),r("p",[e._v("在开始审核网络使用情况之前，请确保 "),r("a",{attrs:{href:"https://developers.google.cn/web/tools/chrome-devtools/network-performance#emulate",target:"_blank",rel:"noopener noreferrer"}},[e._v("禁用浏览器缓存，"),r("OutboundLink")],1),e._v(" 以确保获得有关首次加载性能的准确统计信息。如果您已经通过服务工作者进行缓存，请 "),r("a",{attrs:{href:"https://developers.google.cn/web/tools/chrome-devtools/progressive-web-apps",target:"_blank",rel:"noopener noreferrer"}},[e._v("清除“缓存 API 存储”"),r("OutboundLink")],1),e._v("。您可能要使用隐身（私人）窗口，这样就不必担心禁用浏览器缓存或删除以前缓存的条目。")]),e._v(" "),r("p",[e._v("以下是一些应使用浏览器工具检查的核心功能和指标：")]),e._v(" "),r("ul",[r("li",[e._v("负载性能："),r("a",{attrs:{href:"https://developers.google.cn/web/tools/lighthouse#devtools",target:"_blank",rel:"noopener noreferrer"}},[e._v("Lighthouse"),r("OutboundLink")],1),e._v(" 提供负载指标的摘要。阿迪·奥斯曼（Addy Osmani）撰写了 有关页面加载"),r("a",{attrs:{href:"https://medium.com/@addyosmani/progressive-web-apps-with-react-js-part-2-page-load-performance-33b932d97cf2",target:"_blank",rel:"noopener noreferrer"}},[e._v("关键用户时刻"),r("OutboundLink")],1),e._v("的精彩摘要。")]),e._v(" "),r("li",[e._v("用于加载和解析资源以及内存使用情况的"),r("a",{attrs:{href:"https://developers.google.cn/web/tools/chrome-devtools/evaluate-performance/timeline-tool",target:"_blank",rel:"noopener noreferrer"}},[e._v("时间轴事件"),r("OutboundLink")],1),e._v("。如果您想更深入一点，请运行内存和 JavaScript "),r("a",{attrs:{href:"https://developers.google.cn/web/tools/chrome-devtools/evaluate-performance/timeline-tool#profile-js",target:"_blank",rel:"noopener noreferrer"}},[e._v("分析"),r("OutboundLink")],1),e._v("。")]),e._v(" "),r("li",[e._v("页面总重量和文件数。")]),e._v(" "),r("li",[e._v("JavaScript 文件的数量和重量。")]),e._v(" "),r("li",[e._v("任何特别大的单个 JavaScript 文件（例如，超过 100KB）。")]),e._v(" "),r("li",[e._v("未使用的 JavaScript。您可以使用 Chrome "),r("a",{attrs:{href:"https://developers.google.cn/web/updates/2017/04/devtools-release-notes",target:"_blank",rel:"noopener noreferrer"}},[e._v("Coverage 工具"),r("OutboundLink")],1),e._v("进行检查 。")]),e._v(" "),r("li",[e._v("图像文件的总数和权重。")]),e._v(" "),r("li",[e._v("任何特别大的单个图像文件。")]),e._v(" "),r("li",[e._v("图像格式：是否有 "),r("a",{attrs:{href:"https://developers.google.cn/web/fundamentals/performance/optimizing-content-efficiency/image-optimization",target:"_blank",rel:"noopener noreferrer"}},[e._v("可能是 JPEG 或 SVG 的 PNG"),r("OutboundLink")],1),e._v("？WebP 是否与后备一起使用？")]),e._v(" "),r("li",[e._v("是否使用响应式图像技术（例如 "),r("a",{attrs:{href:"https://css-tricks.com/responsive-images-youre-just-changing-resolutions-use-srcset/",target:"_blank",rel:"noopener noreferrer"}},[e._v("srcset"),r("OutboundLink")],1),e._v("）。")]),e._v(" "),r("li",[e._v("HTML 文件大小。")]),e._v(" "),r("li",[e._v("CSS 文件的总数和重量。")]),e._v(" "),r("li",[e._v("未使用的 CSS。（在 Chrome 浏览器中，使用 "),r("a",{attrs:{href:"https://umaar.com/dev-tips/121-css-coverage/",target:"_blank",rel:"noopener noreferrer"}},[e._v("覆盖面板"),r("OutboundLink")],1),e._v("。）")]),e._v(" "),r("li",[e._v("检查其他资产（例如 Web 字体（包括图标字体））的使用是否有问题。")]),e._v(" "),r("li",[e._v("检查 DevTools 时间轴是否有任何阻碍页面加载的内容。")])]),e._v(" "),r("p",[e._v("如果您使用的是快速 WiFi 或快速的蜂窝连接，请使用"),r("a",{attrs:{href:"https://developers.google.cn/web/tools/chrome-devtools/network-performance/network-conditions",target:"_blank",rel:"noopener noreferrer"}},[e._v("低带宽和高延迟仿真进行测试"),r("OutboundLink")],1),e._v("。记住要在移动设备和台式机上进行测试-有些站点使用 UA 嗅探为不同的设备提供不同的资产和布局。您可能需要使用"),r("a",{attrs:{href:"https://developers.google.cn/web/tools/chrome-devtools/remote-debugging",target:"_blank",rel:"noopener noreferrer"}},[e._v("远程调试"),r("OutboundLink")],1),e._v("在实际硬件上进行测试 ，而不仅仅是使用设备仿真。")]),e._v(" "),r("p",[r("strong",[e._v("您通常可以使用浏览器工具来发现问题，只需检查网络响应并按大小排序即可。")])]),e._v(" "),r("p",[e._v("例如：此处的 349KB PNG 看起来可能是一个问题：")]),e._v(" "),r("p",[r("img",{attrs:{src:"https://developers.google.cn/web/fundamentals/performance/audit/images/devtools-349KB.png",alt:"Chrome DevTools网络面板显示一个大文件"}})]),e._v(" "),r("p",[e._v("果然，结果是图像为 1600px 宽，而元素的最大显示宽度仅为 400px。解压缩后，图像需要超过 4MB 的内存，这在手机上是很大的。")]),e._v(" "),r("p",[e._v("将图像重新保存为 800px 宽的 JPEG（以应付 2x 屏幕上 400px 的显示宽度）并使用"),r("a",{attrs:{href:"https://imageoptim.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("ImageOptim"),r("OutboundLink")],1),e._v("进行优化后，结果为 17KB：将"),r("a",{attrs:{href:"https://drive.google.com/open?id=0B9xlQg9Xpugsb0VpQldsN3YwSEE",target:"_blank",rel:"noopener noreferrer"}},[e._v("原始 PNG"),r("OutboundLink")],1),e._v("与"),r("a",{attrs:{href:"https://drive.google.com/open?id=0B9xlQg9XpugsTlBVNlQ1bUdQa0U",target:"_blank",rel:"noopener noreferrer"}},[e._v("优化的 JPEG"),r("OutboundLink")],1),e._v("进行比较。")]),e._v(" "),r("p",[e._v("改善了 95％！")]),e._v(" "),r("h2",{attrs:{id:"检查内存和-cpu-负载"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#检查内存和-cpu-负载"}},[e._v("#")]),e._v(" 检查内存和 CPU 负载")]),e._v(" "),r("p",[e._v("进行更改之前，请记录内存和 CPU 使用率。")]),e._v(" "),r("p",[e._v("在 Chrome 中，您可以从“窗口”菜单访问任务管理器。这是检查网页要求的简单方法。")]),e._v(" "),r("p",[r("img",{attrs:{src:"https://developers.google.cn/web/fundamentals/performance/audit/images/task-manager.png",alt:"Chrome Task Manager显示四个打开的浏览器选项卡的内存和CPU使用情况"}}),r("em",[e._v("Chrome 的任务管理器-注意内存和 CPU 消耗！")])]),e._v(" "),r("h2",{attrs:{id:"测试第一个和后续负载性能"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#测试第一个和后续负载性能"}},[e._v("#")]),e._v(" 测试第一个和后续负载性能")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://developers.google.cn/web/tools/lighthouse",target:"_blank",rel:"noopener noreferrer"}},[e._v("Lighthouse"),r("OutboundLink")],1),e._v("， "),r("a",{attrs:{href:"https://www.webpagetest.org/easy",target:"_blank",rel:"noopener noreferrer"}},[e._v("WebPagetest"),r("OutboundLink")],1),e._v("和 "),r("a",{attrs:{href:"https://developers.google.cn/speed/pagespeed/insights",target:"_blank",rel:"noopener noreferrer"}},[e._v("Pagespeed Insights"),r("OutboundLink")],1),e._v("可用于分析速度，数据成本和资源使用情况。WebPagetest 还将检查静态内容缓存，到第一个字节的时间以及您的站点是否有效利用了 CDN。")]),e._v(" "),r("p",[r("strong",[e._v("启用静态内容缓存非常简单，因此浏览器可以在第一次请求资产时通过配置服务器以包括适当的标头来缓存资产。")])]),e._v(" "),r("p",[e._v("如果浏览器可以缓存资源，则在以后的访问中无需从网络检索资源。即使对于不支持通过服务工作者进行缓存的浏览器，这也可以提高加载速度，降低数据成本并减少网络和服务器负载。 "),r("a",{attrs:{href:"https://jakearchibald.com/2016/caching-best-practices/",target:"_blank",rel:"noopener noreferrer"}},[e._v("即使您使用的是 Cache API"),r("OutboundLink")],1),e._v("，启用浏览器缓存也很重要。")]),e._v(" "),r("p",[e._v("要了解更多信息，请查看 "),r("a",{attrs:{href:"https://developers.google.cn/speed/docs/insights/LeverageBrowserCaching",target:"_blank",rel:"noopener noreferrer"}},[e._v("PageSpeed 工具"),r("OutboundLink")],1),e._v("和"),r("a",{attrs:{href:"https://developers.google.cn/web/fundamentals/performance/optimizing-content-efficiency/http-caching",target:"_blank",rel:"noopener noreferrer"}},[e._v("Web 基础知识"),r("OutboundLink")],1),e._v("上的资源 （特别是“无效和更新缓存的响应”部分）。")]),e._v(" "),r("h2",{attrs:{id:"保存结果"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#保存结果"}},[e._v("#")]),e._v(" 保存结果")]),e._v(" "),r("ul",[r("li",[r("p",[r("strong",[e._v("WebPagetest")]),e._v("："),r("a",{attrs:{href:"https://www.webpagetest.org/result/170428_NW_cc5afd75a2041f7e09984f33e4a4ae14/",target:"_blank",rel:"noopener noreferrer"}},[e._v("每个测试结果都有自己的 URL"),r("OutboundLink")],1),e._v("。")])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("Pagespeed Insights")]),e._v("："),r("a",{attrs:{href:"https://developers.google.cn/speed/pagespeed/insights",target:"_blank",rel:"noopener noreferrer"}},[e._v("在线"),r("OutboundLink")],1),e._v(" Pagespeed Insights 工具"),r("a",{attrs:{href:"https://webmasters.googleblog.com/2018/01/real-world-data-in-pagespeed-insights.html?m=1",target:"_blank",rel:"noopener noreferrer"}},[e._v("现在包括 Chrome User Experience 报告数据，"),r("OutboundLink")],1),e._v(" 突出显示了实际的性能统计信息。")])]),e._v(" "),r("li",[r("p",[e._v("Lighthouse")]),e._v(" "),r("p",[e._v("：单击下载按钮，从“ Chrome DevTools 审核”面板保存报告：")]),e._v(" "),r("p",[r("img",{attrs:{src:"https://developers.google.cn/web/fundamentals/performance/audit/images/lighthouse-download-1000.png",alt:"Chrome Lighthouse按钮用于下载报告"}})])])]),e._v(" "),r("h2",{attrs:{id:"测试核心渐进式-web-app-要求"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#测试核心渐进式-web-app-要求"}},[e._v("#")]),e._v(" 测试核心渐进式 Web App 要求")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://developers.google.cn/web/tools/lighthouse",target:"_blank",rel:"noopener noreferrer"}},[e._v("Lighthouse"),r("OutboundLink")],1),e._v("可帮助您测试安全性，功能性，可访问性，性能和搜索引擎性能。特别是，Lighthouse 会检查您的站点是否成功实现了 PWA 功能，例如服务工作者和 Web App 清单。")]),e._v(" "),r("p",[e._v("Lighthouse 还测试您的站点是否可以提供可接受的脱机体验。")]),e._v(" "),r("p",[e._v("您可以以 JSON 格式下载 Lighthouse 报告，或者，如果您使用 "),r("a",{attrs:{href:"https://chrome.google.com/webstore/detail/lighthouse/blipmdconlkpinefehnmjammfjpmpbjk",target:"_blank",rel:"noopener noreferrer"}},[e._v("Lighthouse Chrome Extension"),r("OutboundLink")],1),e._v("，则以 GitHub Gist 的形式共享报告：单击共享按钮，选择在 Viewer 中打开，然后在新窗口中再次单击共享按钮和另存为要点。")]),e._v(" "),r("p",[r("img",{attrs:{src:"https://developers.google.cn/web/fundamentals/performance/audit/images/lighthouse-gist-1000.png",alt:"屏幕截图显示了如何将要点的Chrome Lighthouse报告导出"}}),r("em",[e._v("将报告从 Lighthouse Chrome 扩展程序导出到要点-单击“共享”按钮")])]),e._v(" "),r("h2",{attrs:{id:"使用分析-事件跟踪和业务指标来跟踪实际绩效"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#使用分析-事件跟踪和业务指标来跟踪实际绩效"}},[e._v("#")]),e._v(" 使用分析，事件跟踪和业务指标来跟踪实际绩效")]),e._v(" "),r("p",[e._v("如果可以，请在实施更改之前记录分析数据：跳出率，页面停留时间，退出页面：与业务需求相关的任何内容。")]),e._v(" "),r("p",[e._v("如果可能，记录可能受到影响的业务和技术指标，以便您可以在进行更改后比较结果。例如：一个电子商务站点可能会跟踪每分钟的订单或记录统计数据以进行压力和耐力测试。如果减少页面重量和资源请求，则后端存储成本，CPU 需求，服务成本和弹性可能会提高。")]),e._v(" "),r("p",[e._v("如果没有实施分析，现在是时候了！业务指标和分析是决定您的网站是否正常运行的最终决定因素。如果合适，请结合 "),r("a",{attrs:{href:"https://developers.google.cn/analytics/devguides/collection/analyticsjs/events",target:"_blank",rel:"noopener noreferrer"}},[e._v("事件跟踪"),r("OutboundLink")],1),e._v(" 来执行用户操作，例如按钮单击和视频播放。您可能还需要实施 "),r("a",{attrs:{href:"https://support.google.com/analytics/answer/2520139?ref_topic=1649581",target:"_blank",rel:"noopener noreferrer"}},[e._v("目标流分析"),r("OutboundLink")],1),e._v("：用户导航到“转化”所依据的路径。")]),e._v(" "),r("p",[e._v("您可以随时关注 Google Analytics（分析） "),r("a",{attrs:{href:"https://support.google.com/analytics/answer/1205784",target:"_blank",rel:"noopener noreferrer"}},[e._v("网站的速度，"),r("OutboundLink")],1),e._v("以检查效果指标与业务指标之间的关系。例如：“首页加载速度有多快？” 与“通过首页输入是否产生销售？”相比")]),e._v(" "),r("p",[r("img",{attrs:{src:"https://developers.google.cn/web/fundamentals/performance/audit/images/site-speed.png",alt:"屏幕快照显示了Google Analytics（分析）网站的速度"}})]),e._v(" "),r("p",[e._v("Google Analytics（分析）使用"),r("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/Navigation_timing_API",target:"_blank",rel:"noopener noreferrer"}},[e._v("Navigation Timing API 中的"),r("OutboundLink")],1),e._v("数据 。")]),e._v(" "),r("p",[e._v("您可能想要使用"),r("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/PerformanceObserver",target:"_blank",rel:"noopener noreferrer"}},[e._v("JavaScript 性能 API 之一"),r("OutboundLink")],1),e._v(" 或您自己的指标来记录数据 ，例如：")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("const subscribeBtn = document.querySelector('#subscribe');\n\nsubscribeBtn.addEventListener('click', (event) => {\n // Event listener logic goes here...\n\n const lag = performance.now() - event.timeStamp;\n if (lag > 100) {\n  ga('send', 'event', {\n   eventCategory: 'Performance Metric'\n   eventAction: 'input-latency',\n   eventLabel: '#subscribe:click',\n   eventValue: Math.round(lag),\n   nonInteraction: true,\n  });\n }\n});\n")])])]),r("p",[e._v("您还可以使用 ReportingObserver 来检查浏览器过时和干预警告。这是"),r("a",{attrs:{href:"https://developers.google.cn/web/updates/2018/07/reportingobserver",target:"_blank",rel:"noopener noreferrer"}},[e._v("从实际用户那里获取真实，实时测量结果"),r("OutboundLink")],1),e._v("的"),r("a",{attrs:{href:"https://developers.google.cn/web/updates/2018/07/reportingobserver",target:"_blank",rel:"noopener noreferrer"}},[e._v("众多 API"),r("OutboundLink")],1),e._v("之一。")]),e._v(" "),r("h2",{attrs:{id:"真实体验-屏幕和视频录制"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#真实体验-屏幕和视频录制"}},[e._v("#")]),e._v(" 真实体验：屏幕和视频录制")]),e._v(" "),r("p",[e._v("对移动设备和台式机上的页面加载进行录像。如果添加了计时器显示，则在高帧频下效果更好。")]),e._v(" "),r("p",[e._v("您可能还想保存截屏视频。有许多适用于 Android，iOS 和桌面平台的截屏录制应用程序（和 "),r("a",{attrs:{href:"https://paul.kinlan.me/android-screen-recording/",target:"_blank",rel:"noopener noreferrer"}},[e._v("脚本也可以这样做"),r("OutboundLink")],1),e._v("）。")]),e._v(" "),r("p",[e._v("视频记录页面加载的工作"),r("a",{attrs:{href:"http://www.webpagetest.org/video/compare.php?tests=170427_61_14ZR-r:1-c:0",target:"_blank",rel:"noopener noreferrer"}},[e._v("方式"),r("OutboundLink")],1),e._v("与 WebPagetest 中的 "),r("a",{attrs:{href:"http://www.webpagetest.org/video/compare.php?tests=170427_61_14ZR-r:1-c:0",target:"_blank",rel:"noopener noreferrer"}},[e._v("幻灯片视图"),r("OutboundLink")],1),e._v("或 Chrome DevTools 中的"),r("a",{attrs:{href:"https://developers.google.cn/web/updates/2015/07/devtools-digest-film-strip-and-a-new-home-for-throttling",target:"_blank",rel:"noopener noreferrer"}},[e._v("Capture 屏幕截图"),r("OutboundLink")],1),e._v("非常相似。您将获得页面组件加载速度的真实记录：快和慢。保存视频记录和屏幕录像，以与以后的改进进行比较。")]),e._v(" "),r("p",[e._v("前后比较可以很好地证明改进！")]),e._v(" "),r("h2",{attrs:{id:"还有什么"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#还有什么"}},[e._v("#")]),e._v(" 还有什么？")]),e._v(" "),r("p",[e._v("如果相关，请获取"),r("a",{attrs:{href:"http://www.webbloatscore.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Web 膨胀分数"),r("OutboundLink")],1),e._v("。这是一个有趣的测试，但它也可能是证明代码膨胀或表明您已进行改进的一种令人信服的方法。")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://whatdoesmysitecost.com/test/170427_KK_6aecf8c8a21c22e9f59b2b65e8371569#gniCost",target:"_blank",rel:"noopener noreferrer"}},[e._v("我的网站费用是多少？"),r("OutboundLink")],1),e._v("，如下所示，它为在不同区域加载您的网站的财务成本提供了粗略的指导。")]),e._v(" "),r("p",[r("img",{attrs:{src:"https://developers.google.cn/web/fundamentals/performance/audit/images/site-cost.png",alt:"来自whatdoesmysitecost.com的屏幕截图"}})]),e._v(" "),r("p",[e._v("还有许多其他的独立和在线工具：请查看 "),r("a",{attrs:{href:"http://perf.rocks/tools",target:"_blank",rel:"noopener noreferrer"}},[e._v("perf.rocks/tools"),r("OutboundLink")],1),e._v("。")])])}),[],!1,null,null,null);t.default=n.exports}}]);