<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>通过客户提示适应用户 | LiYang&#39;s blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/2.10.0/github-markdown.min.css">
    <meta name="description" content="web前端技术博客,简洁至上,专注web前端学习与总结。JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github等技术文章。">
    <link rel="preload" href="/assets/css/0.styles.ff3929f5.css" as="style"><link rel="preload" href="/assets/js/app.40794b05.js" as="script"><link rel="preload" href="/assets/js/2.21c2c3d2.js" as="script"><link rel="preload" href="/assets/js/224.9129f3cf.js" as="script"><link rel="prefetch" href="/assets/js/10.058f7072.js"><link rel="prefetch" href="/assets/js/100.f3568421.js"><link rel="prefetch" href="/assets/js/101.3669cd11.js"><link rel="prefetch" href="/assets/js/102.cefa1450.js"><link rel="prefetch" href="/assets/js/103.0fc12baa.js"><link rel="prefetch" href="/assets/js/104.fc75b27c.js"><link rel="prefetch" href="/assets/js/105.9efa40da.js"><link rel="prefetch" href="/assets/js/106.2132845c.js"><link rel="prefetch" href="/assets/js/107.50efbf3f.js"><link rel="prefetch" href="/assets/js/108.2e4d6b56.js"><link rel="prefetch" href="/assets/js/109.362f4964.js"><link rel="prefetch" href="/assets/js/11.acbb83b6.js"><link rel="prefetch" href="/assets/js/110.260ecf9d.js"><link rel="prefetch" href="/assets/js/111.ac0ed6b0.js"><link rel="prefetch" href="/assets/js/112.e26ce83f.js"><link rel="prefetch" href="/assets/js/113.c17594f4.js"><link rel="prefetch" href="/assets/js/114.081ea0e8.js"><link rel="prefetch" href="/assets/js/115.9f1c1fc5.js"><link rel="prefetch" href="/assets/js/116.300e5c32.js"><link rel="prefetch" href="/assets/js/117.005796a9.js"><link rel="prefetch" href="/assets/js/118.5dd34410.js"><link rel="prefetch" href="/assets/js/119.2a52edee.js"><link rel="prefetch" href="/assets/js/12.f5d0a92b.js"><link rel="prefetch" href="/assets/js/120.2692504f.js"><link rel="prefetch" href="/assets/js/121.de91fbab.js"><link rel="prefetch" href="/assets/js/122.8fe54cb7.js"><link rel="prefetch" href="/assets/js/123.27f7de3d.js"><link rel="prefetch" href="/assets/js/124.df486141.js"><link rel="prefetch" href="/assets/js/125.b3333a19.js"><link rel="prefetch" href="/assets/js/126.0252235d.js"><link rel="prefetch" href="/assets/js/127.e416e0cb.js"><link rel="prefetch" href="/assets/js/128.80fc9ce8.js"><link rel="prefetch" href="/assets/js/129.d549459c.js"><link rel="prefetch" href="/assets/js/13.c75b92e4.js"><link rel="prefetch" href="/assets/js/130.535fd734.js"><link rel="prefetch" href="/assets/js/131.9d165e98.js"><link rel="prefetch" href="/assets/js/132.ef795834.js"><link rel="prefetch" href="/assets/js/133.2044b8d2.js"><link rel="prefetch" href="/assets/js/134.ea0aee7d.js"><link rel="prefetch" href="/assets/js/135.6f39d3e5.js"><link rel="prefetch" href="/assets/js/136.47dc0812.js"><link rel="prefetch" href="/assets/js/137.3eaf9788.js"><link rel="prefetch" href="/assets/js/138.1135d0ed.js"><link rel="prefetch" href="/assets/js/139.d546d7cb.js"><link rel="prefetch" href="/assets/js/14.1114043e.js"><link rel="prefetch" href="/assets/js/140.aae58cac.js"><link rel="prefetch" href="/assets/js/141.b8b72927.js"><link rel="prefetch" href="/assets/js/142.b161cba1.js"><link rel="prefetch" href="/assets/js/143.cfb7b204.js"><link rel="prefetch" href="/assets/js/144.818c2cff.js"><link rel="prefetch" href="/assets/js/145.60f90c39.js"><link rel="prefetch" href="/assets/js/146.7ddef663.js"><link rel="prefetch" href="/assets/js/147.06d1017e.js"><link rel="prefetch" href="/assets/js/148.c7c411a0.js"><link rel="prefetch" href="/assets/js/149.334bd804.js"><link rel="prefetch" href="/assets/js/15.3f0b462f.js"><link rel="prefetch" href="/assets/js/150.7c8c73b7.js"><link rel="prefetch" href="/assets/js/151.62d10d6c.js"><link rel="prefetch" href="/assets/js/152.82e28168.js"><link rel="prefetch" href="/assets/js/153.e1ee4321.js"><link rel="prefetch" href="/assets/js/154.f576cc10.js"><link rel="prefetch" href="/assets/js/155.964a90f2.js"><link rel="prefetch" href="/assets/js/156.4bdc75f5.js"><link rel="prefetch" href="/assets/js/157.6581cb30.js"><link rel="prefetch" href="/assets/js/158.24f9817a.js"><link rel="prefetch" href="/assets/js/159.89915418.js"><link rel="prefetch" href="/assets/js/16.d8001a48.js"><link rel="prefetch" href="/assets/js/160.643f5b36.js"><link rel="prefetch" href="/assets/js/161.4714f73e.js"><link rel="prefetch" href="/assets/js/162.7527446c.js"><link rel="prefetch" href="/assets/js/163.229f891d.js"><link rel="prefetch" href="/assets/js/164.429d3070.js"><link rel="prefetch" href="/assets/js/165.5e342261.js"><link rel="prefetch" href="/assets/js/166.f0cb088a.js"><link rel="prefetch" href="/assets/js/167.40a0038b.js"><link rel="prefetch" href="/assets/js/168.758c8238.js"><link rel="prefetch" href="/assets/js/169.a972a570.js"><link rel="prefetch" href="/assets/js/17.8a850ded.js"><link rel="prefetch" href="/assets/js/170.0fba2db3.js"><link rel="prefetch" href="/assets/js/171.43f66f94.js"><link rel="prefetch" href="/assets/js/172.9467deb8.js"><link rel="prefetch" href="/assets/js/173.26fef872.js"><link rel="prefetch" href="/assets/js/174.0958a150.js"><link rel="prefetch" href="/assets/js/175.a87b0ab5.js"><link rel="prefetch" href="/assets/js/176.04363b06.js"><link rel="prefetch" href="/assets/js/177.34672e1c.js"><link rel="prefetch" href="/assets/js/178.42e0456b.js"><link rel="prefetch" href="/assets/js/179.ec648519.js"><link rel="prefetch" href="/assets/js/18.fe4d545b.js"><link rel="prefetch" href="/assets/js/180.8a5fc825.js"><link rel="prefetch" href="/assets/js/181.3dabf704.js"><link rel="prefetch" href="/assets/js/182.e1193960.js"><link rel="prefetch" href="/assets/js/183.975cb0ee.js"><link rel="prefetch" href="/assets/js/184.a0e65b8e.js"><link rel="prefetch" href="/assets/js/185.1b24284f.js"><link rel="prefetch" href="/assets/js/186.9f5186d0.js"><link rel="prefetch" href="/assets/js/187.7b2b6fb4.js"><link rel="prefetch" href="/assets/js/188.39449f6c.js"><link rel="prefetch" href="/assets/js/189.d6c034d8.js"><link rel="prefetch" href="/assets/js/19.48cc10f6.js"><link rel="prefetch" href="/assets/js/190.2fe5508a.js"><link rel="prefetch" href="/assets/js/191.368805e9.js"><link rel="prefetch" href="/assets/js/192.8351a6ec.js"><link rel="prefetch" href="/assets/js/193.4d86bf98.js"><link rel="prefetch" href="/assets/js/194.86d3a829.js"><link rel="prefetch" href="/assets/js/195.931ce7ef.js"><link rel="prefetch" href="/assets/js/196.35818a22.js"><link rel="prefetch" href="/assets/js/197.109eef6d.js"><link rel="prefetch" href="/assets/js/198.a092c6d3.js"><link rel="prefetch" href="/assets/js/199.0a7aea6b.js"><link rel="prefetch" href="/assets/js/20.1baf39d0.js"><link rel="prefetch" href="/assets/js/200.eb75a43c.js"><link rel="prefetch" href="/assets/js/201.167f1a27.js"><link rel="prefetch" href="/assets/js/202.80380232.js"><link rel="prefetch" href="/assets/js/203.dfb07860.js"><link rel="prefetch" href="/assets/js/204.0de5d7ad.js"><link rel="prefetch" href="/assets/js/205.da83ee83.js"><link rel="prefetch" href="/assets/js/206.4ff75723.js"><link rel="prefetch" href="/assets/js/207.c0023a8f.js"><link rel="prefetch" href="/assets/js/208.e1d257d1.js"><link rel="prefetch" href="/assets/js/209.668018f6.js"><link rel="prefetch" href="/assets/js/21.b0e0d339.js"><link rel="prefetch" href="/assets/js/210.eac594b9.js"><link rel="prefetch" href="/assets/js/211.1cc3154f.js"><link rel="prefetch" href="/assets/js/212.0a3e0704.js"><link rel="prefetch" href="/assets/js/213.e5257a7e.js"><link rel="prefetch" href="/assets/js/214.a335e108.js"><link rel="prefetch" href="/assets/js/215.0422f8a3.js"><link rel="prefetch" href="/assets/js/216.6e63fc29.js"><link rel="prefetch" href="/assets/js/217.a38e1ca8.js"><link rel="prefetch" href="/assets/js/218.04c38c96.js"><link rel="prefetch" href="/assets/js/219.89a7899f.js"><link rel="prefetch" href="/assets/js/22.f5c6b71f.js"><link rel="prefetch" href="/assets/js/220.02a01cb8.js"><link rel="prefetch" href="/assets/js/221.e0eded2d.js"><link rel="prefetch" href="/assets/js/222.06c16e31.js"><link rel="prefetch" href="/assets/js/223.a4b75ccb.js"><link rel="prefetch" href="/assets/js/225.1c089563.js"><link rel="prefetch" href="/assets/js/226.8d7ae032.js"><link rel="prefetch" href="/assets/js/227.3bfa4328.js"><link rel="prefetch" href="/assets/js/228.a1748bdf.js"><link rel="prefetch" href="/assets/js/229.c1c27996.js"><link rel="prefetch" href="/assets/js/23.265953eb.js"><link rel="prefetch" href="/assets/js/230.f39a1f48.js"><link rel="prefetch" href="/assets/js/231.ca132071.js"><link rel="prefetch" href="/assets/js/232.9ca5e931.js"><link rel="prefetch" href="/assets/js/233.e04e254f.js"><link rel="prefetch" href="/assets/js/234.22381aab.js"><link rel="prefetch" href="/assets/js/235.6bc8508d.js"><link rel="prefetch" href="/assets/js/236.5914c9a6.js"><link rel="prefetch" href="/assets/js/237.a721ad82.js"><link rel="prefetch" href="/assets/js/238.af3e025d.js"><link rel="prefetch" href="/assets/js/239.44fe29c9.js"><link rel="prefetch" href="/assets/js/24.16fb3de9.js"><link rel="prefetch" href="/assets/js/240.9ba57538.js"><link rel="prefetch" href="/assets/js/241.46a9cb7e.js"><link rel="prefetch" href="/assets/js/242.ae70539b.js"><link rel="prefetch" href="/assets/js/243.8a1feaf8.js"><link rel="prefetch" href="/assets/js/244.cdbaaca6.js"><link rel="prefetch" href="/assets/js/245.7117eda6.js"><link rel="prefetch" href="/assets/js/246.742dd686.js"><link rel="prefetch" href="/assets/js/247.7046d3e0.js"><link rel="prefetch" href="/assets/js/248.dbd8407d.js"><link rel="prefetch" href="/assets/js/249.206b660b.js"><link rel="prefetch" href="/assets/js/25.21d0c0dd.js"><link rel="prefetch" href="/assets/js/250.f559b400.js"><link rel="prefetch" href="/assets/js/251.f13bd91c.js"><link rel="prefetch" href="/assets/js/252.aaa10b65.js"><link rel="prefetch" href="/assets/js/253.78640ae7.js"><link rel="prefetch" href="/assets/js/254.5251f555.js"><link rel="prefetch" href="/assets/js/255.5f8655e1.js"><link rel="prefetch" href="/assets/js/256.0b1da59b.js"><link rel="prefetch" href="/assets/js/257.c4b311d3.js"><link rel="prefetch" href="/assets/js/258.62c44f28.js"><link rel="prefetch" href="/assets/js/259.7a8ecb77.js"><link rel="prefetch" href="/assets/js/26.68bfb3cd.js"><link rel="prefetch" href="/assets/js/260.9506bc77.js"><link rel="prefetch" href="/assets/js/261.ab6ac9b0.js"><link rel="prefetch" href="/assets/js/262.6f237036.js"><link rel="prefetch" href="/assets/js/27.e08c2734.js"><link rel="prefetch" href="/assets/js/28.d05f086f.js"><link rel="prefetch" href="/assets/js/29.14bacba0.js"><link rel="prefetch" href="/assets/js/3.9859aeed.js"><link rel="prefetch" href="/assets/js/30.d1c1c795.js"><link rel="prefetch" href="/assets/js/31.c464fa16.js"><link rel="prefetch" href="/assets/js/32.74ae82b3.js"><link rel="prefetch" href="/assets/js/33.6d39a197.js"><link rel="prefetch" href="/assets/js/34.a5448e75.js"><link rel="prefetch" href="/assets/js/35.e677db99.js"><link rel="prefetch" href="/assets/js/36.9373382d.js"><link rel="prefetch" href="/assets/js/37.aaef6158.js"><link rel="prefetch" href="/assets/js/38.b8534a41.js"><link rel="prefetch" href="/assets/js/39.8e5ecefa.js"><link rel="prefetch" href="/assets/js/4.b3a2afa1.js"><link rel="prefetch" href="/assets/js/40.0fbf1e24.js"><link rel="prefetch" href="/assets/js/41.b68829b1.js"><link rel="prefetch" href="/assets/js/42.c6327e05.js"><link rel="prefetch" href="/assets/js/43.5cdcb8f5.js"><link rel="prefetch" href="/assets/js/44.48fd0994.js"><link rel="prefetch" href="/assets/js/45.45e8d731.js"><link rel="prefetch" href="/assets/js/46.ea182d63.js"><link rel="prefetch" href="/assets/js/47.3d1bf5d3.js"><link rel="prefetch" href="/assets/js/48.485f3e01.js"><link rel="prefetch" href="/assets/js/49.a2622af2.js"><link rel="prefetch" href="/assets/js/5.ddbdceff.js"><link rel="prefetch" href="/assets/js/50.572052eb.js"><link rel="prefetch" href="/assets/js/51.ed257c0f.js"><link rel="prefetch" href="/assets/js/52.23b18f3a.js"><link rel="prefetch" href="/assets/js/53.14b56cb4.js"><link rel="prefetch" href="/assets/js/54.bb07175e.js"><link rel="prefetch" href="/assets/js/55.d48bde66.js"><link rel="prefetch" href="/assets/js/56.38433979.js"><link rel="prefetch" href="/assets/js/57.99b13154.js"><link rel="prefetch" href="/assets/js/58.498c71ad.js"><link rel="prefetch" href="/assets/js/59.24e06284.js"><link rel="prefetch" href="/assets/js/6.cae33779.js"><link rel="prefetch" href="/assets/js/60.fe0260d5.js"><link rel="prefetch" href="/assets/js/61.b5bcfd89.js"><link rel="prefetch" href="/assets/js/62.bdc41a00.js"><link rel="prefetch" href="/assets/js/63.10468463.js"><link rel="prefetch" href="/assets/js/64.028e0281.js"><link rel="prefetch" href="/assets/js/65.f762d4ff.js"><link rel="prefetch" href="/assets/js/66.33239ba5.js"><link rel="prefetch" href="/assets/js/67.c89232f4.js"><link rel="prefetch" href="/assets/js/68.e2ab181e.js"><link rel="prefetch" href="/assets/js/69.86594af5.js"><link rel="prefetch" href="/assets/js/7.5bd7e1fe.js"><link rel="prefetch" href="/assets/js/70.f79bf73b.js"><link rel="prefetch" href="/assets/js/71.36d10bfe.js"><link rel="prefetch" href="/assets/js/72.85d3c063.js"><link rel="prefetch" href="/assets/js/73.4746e647.js"><link rel="prefetch" href="/assets/js/74.c8d81312.js"><link rel="prefetch" href="/assets/js/75.dd1ae94f.js"><link rel="prefetch" href="/assets/js/76.b06cc20c.js"><link rel="prefetch" href="/assets/js/77.855f7650.js"><link rel="prefetch" href="/assets/js/78.4e5b0253.js"><link rel="prefetch" href="/assets/js/79.95567ab3.js"><link rel="prefetch" href="/assets/js/8.62836d81.js"><link rel="prefetch" href="/assets/js/80.7b7033a0.js"><link rel="prefetch" href="/assets/js/81.45b93100.js"><link rel="prefetch" href="/assets/js/82.36d8eb8a.js"><link rel="prefetch" href="/assets/js/83.b361b85d.js"><link rel="prefetch" href="/assets/js/84.2e4874fa.js"><link rel="prefetch" href="/assets/js/85.272cfc57.js"><link rel="prefetch" href="/assets/js/86.aaa56439.js"><link rel="prefetch" href="/assets/js/87.dc9e3259.js"><link rel="prefetch" href="/assets/js/88.689b6a8b.js"><link rel="prefetch" href="/assets/js/89.f22e017d.js"><link rel="prefetch" href="/assets/js/9.584f1ef6.js"><link rel="prefetch" href="/assets/js/90.d0ed3f12.js"><link rel="prefetch" href="/assets/js/91.21868b2f.js"><link rel="prefetch" href="/assets/js/92.0b1bc56b.js"><link rel="prefetch" href="/assets/js/93.9fd7ccef.js"><link rel="prefetch" href="/assets/js/94.5cee5367.js"><link rel="prefetch" href="/assets/js/95.c81773d8.js"><link rel="prefetch" href="/assets/js/96.c8f61d95.js"><link rel="prefetch" href="/assets/js/97.f86ea530.js"><link rel="prefetch" href="/assets/js/98.09c0fa30.js"><link rel="prefetch" href="/assets/js/99.c4bd6444.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ff3929f5.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.svg" alt="LiYang's blog" class="logo"> <span class="site-name can-hide">LiYang's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/categories/" class="nav-link">分类</a></div><div class="nav-item"><a href="/tags/" class="nav-link">标签</a></div><div class="nav-item"><a href="/archives/" class="nav-link">归档</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/pages/0a6679/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/0a6679/" class="nav-link">编程基础</a></li><li class="dropdown-item"><!----> <a href="/pages/714859/" class="nav-link">开发软件</a></li><li class="dropdown-item"><!----> <a href="/pages/690ae0/" class="nav-link">类库框架</a></li><li class="dropdown-item"><!----> <a href="/pages/d2dd63/" class="nav-link">知识进阶</a></li><li class="dropdown-item"><!----> <a href="/pages/fd695e/" class="nav-link">工程开发</a></li><li class="dropdown-item"><!----> <a href="/pages/f37132/" class="nav-link">编程思想</a></li><li class="dropdown-item"><!----> <a href="/pages/73d90e/" class="nav-link">领域分支</a></li><li class="dropdown-item"><!----> <a href="/pages/b7eb61/" class="nav-link">社区发展</a></li><li class="dropdown-item"><!----> <a href="/pages/83b440/" class="nav-link">计算机基础</a></li><li class="dropdown-item"><!----> <a href="/pages/0d54d7/" class="nav-link">后端知识</a></li><li class="dropdown-item"><!----> <a href="/pages/416bc0/" class="nav-link">软技能</a></li></ul></div></div><div class="nav-item"><a href="/leetCode/" class="nav-link">🤡LeetCode</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="笔记本" class="dropdown-title"><a href="/notes/" class="link-title">笔记本</a> <span class="title" style="display:none;">笔记本</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>书籍</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/books/es6/" class="nav-link">《ES6教程》</a></li><li class="dropdown-subitem"><a href="/books/professionalJs/" class="nav-link">《JavaScript高级程序设计》</a></li></ul></li><li class="dropdown-item"><h4>教程</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/course/css3-jspang/" class="nav-link">CSS3(技术胖)</a></li><li class="dropdown-subitem"><a href="/course/es6-jspang/" class="nav-link">ES6(技术胖)</a></li><li class="dropdown-subitem"><a href="/course/performance/" class="nav-link">性能(Google Developers)</a></li></ul></li><li class="dropdown-item"><h4>技术文档</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/0497ba/.html" class="nav-link">leaflet中文教程</a></li></ul></li></ul></div></div> <a href="https://github.com/fineliving" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://cdn.jsdelivr.net/gh/xugaoyi/image_store/blog/20200103123203.jpg"> <div class="blogger-info"><h3>Evan Xu</h3> <span>前端界的小学生</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/categories/" class="nav-link">分类</a></div><div class="nav-item"><a href="/tags/" class="nav-link">标签</a></div><div class="nav-item"><a href="/archives/" class="nav-link">归档</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/pages/0a6679/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/0a6679/" class="nav-link">编程基础</a></li><li class="dropdown-item"><!----> <a href="/pages/714859/" class="nav-link">开发软件</a></li><li class="dropdown-item"><!----> <a href="/pages/690ae0/" class="nav-link">类库框架</a></li><li class="dropdown-item"><!----> <a href="/pages/d2dd63/" class="nav-link">知识进阶</a></li><li class="dropdown-item"><!----> <a href="/pages/fd695e/" class="nav-link">工程开发</a></li><li class="dropdown-item"><!----> <a href="/pages/f37132/" class="nav-link">编程思想</a></li><li class="dropdown-item"><!----> <a href="/pages/73d90e/" class="nav-link">领域分支</a></li><li class="dropdown-item"><!----> <a href="/pages/b7eb61/" class="nav-link">社区发展</a></li><li class="dropdown-item"><!----> <a href="/pages/83b440/" class="nav-link">计算机基础</a></li><li class="dropdown-item"><!----> <a href="/pages/0d54d7/" class="nav-link">后端知识</a></li><li class="dropdown-item"><!----> <a href="/pages/416bc0/" class="nav-link">软技能</a></li></ul></div></div><div class="nav-item"><a href="/leetCode/" class="nav-link">🤡LeetCode</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="笔记本" class="dropdown-title"><a href="/notes/" class="link-title">笔记本</a> <span class="title" style="display:none;">笔记本</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>书籍</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/books/es6/" class="nav-link">《ES6教程》</a></li><li class="dropdown-subitem"><a href="/books/professionalJs/" class="nav-link">《JavaScript高级程序设计》</a></li></ul></li><li class="dropdown-item"><h4>教程</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/course/css3-jspang/" class="nav-link">CSS3(技术胖)</a></li><li class="dropdown-subitem"><a href="/course/es6-jspang/" class="nav-link">ES6(技术胖)</a></li><li class="dropdown-subitem"><a href="/course/performance/" class="nav-link">性能(Google Developers)</a></li></ul></li><li class="dropdown-item"><h4>技术文档</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/0497ba/.html" class="nav-link">leaflet中文教程</a></li></ul></li></ul></div></div> <a href="https://github.com/fineliving" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/pages/932a6d/" class="sidebar-link">性能为何至关重要</a></li><li><a href="/pages/5c6fa0/" class="sidebar-link">使用 RAIL 模型评估性能</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>加载性能</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/3da005/" class="sidebar-link">总览</a></li><li><a href="/pages/5af7d4/" class="sidebar-link">如何测量速度？</a></li><li><a href="/pages/7c5d18/" class="sidebar-link">文字内容</a></li><li><a href="/pages/79cdb9/" class="sidebar-link">图形内容</a></li><li><a href="/pages/f4a116/" class="sidebar-link">HTTP请求</a></li><li><a href="/pages/998cd7/" class="sidebar-link">HTTP缓存</a></li><li><a href="/pages/cb3ca9/" class="sidebar-link">总结和演示</a></li><li><a href="/pages/ed916f/" class="sidebar-link">速度工具</a></li><li><a href="/pages/200943/" class="sidebar-link">通过导航和资源定时评估加载性能</a></li><li><a href="/pages/13c2e2/" class="sidebar-link">以用户为中心的性能指标</a></li><li><a href="/pages/30d447/" class="sidebar-link">了解低带宽和高延迟</a></li><li><a href="/pages/029c6a/" class="sidebar-link">优化内容效率</a></li><li><a href="/pages/1c8f87/" class="sidebar-link">避免不必要的下载</a></li><li><a href="/pages/9c6617/" class="sidebar-link">优化基于文本的资产的编码和传送大小</a></li><li><a href="/pages/000317/" class="sidebar-link">JavaScript启动优化</a></li><li><a href="/pages/d9771b/" class="sidebar-link">加载第三方JavaScript</a></li><li><a href="/pages/16e316/" class="sidebar-link">网页字体优化</a></li><li><a href="/pages/0497ba/" aria-current="page" class="active sidebar-link">通过客户提示适应用户</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/0497ba/#全部与内容协商有关" class="sidebar-link">全部与内容协商有关</a></li><li class="sidebar-sub-header"><a href="/pages/0497ba/#选择加入" class="sidebar-link">选择加入</a></li><li class="sidebar-sub-header"><a href="/pages/0497ba/#所有的客户提示" class="sidebar-link">所有的客户提示！</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/0497ba/#设备提示" class="sidebar-link">设备提示</a></li><li class="sidebar-sub-header"><a href="/pages/0497ba/#网络提示" class="sidebar-link">网络提示</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/0497ba/#绑在一起" class="sidebar-link">绑在一起</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/0497ba/#响应式图像" class="sidebar-link">响应式图像</a></li><li class="sidebar-sub-header"><a href="/pages/0497ba/#帮助网络缓慢的用户" class="sidebar-link">帮助网络缓慢的用户</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/0497ba/#注意那些缓存" class="sidebar-link">注意那些缓存！</a></li><li class="sidebar-sub-header"><a href="/pages/0497ba/#客户提示服务人员" class="sidebar-link">客户提示服务人员</a></li><li class="sidebar-sub-header"><a href="/pages/0497ba/#包起来" class="sidebar-link">包起来</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/0497ba/#资源资源" class="sidebar-link">资源资源</a></li></ul></li></ul></li><li><a href="/pages/d34d56/" class="sidebar-link">通过保存数据交付快速轻便的应用程序</a></li><li><a href="/pages/b5f9f1/" class="sidebar-link">通过摇树来减少JavaScript负载</a></li><li><a href="/pages/a0ed26/" class="sidebar-link">离线指南</a></li><li><a href="/pages/690a1a/" class="sidebar-link">网页存储概览</a></li><li><a href="/pages/b84219/" class="sidebar-link">使用IndexedDB的最佳实践</a></li><li><a href="/pages/65f486/" class="sidebar-link">Offline UX 注意事项</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>精心安排加载</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/371041/" class="sidebar-link">关键渲染路径</a></li><li><a href="/pages/f31118/" class="sidebar-link">构建对象模型</a></li><li><a href="/pages/739b11/" class="sidebar-link">渲染树构建、布局及绘制</a></li><li><a href="/pages/b9d842/" class="sidebar-link">阻塞渲染的CSS</a></li><li><a href="/pages/f005c3/" class="sidebar-link">使用JavaScript添加交互</a></li><li><a href="/pages/1d7873/" class="sidebar-link">评估关键渲染路径</a></li><li><a href="/pages/3b99f9/" class="sidebar-link">分析关键渲染路径性能</a></li><li><a href="/pages/0c6644/" class="sidebar-link">优化关键渲染路径</a></li><li><a href="/pages/baf7eb/" class="sidebar-link">PageSpeed规则和建议</a></li><li><a href="/pages/4f4df7/" class="sidebar-link">HTTP/2简介</a></li><li><a href="/pages/65a803/" class="sidebar-link">使用PRPL模式应用即时加载</a></li><li><a href="/pages/08c756/" class="sidebar-link">资源优先级–让浏览器助您一臂之力</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>利用webpack优化web性能</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/c18ffb/" class="sidebar-link">介绍</a></li><li><a href="/pages/ec3b6e/" class="sidebar-link">减小前端大小</a></li><li><a href="/pages/8bf683/" class="sidebar-link">利用长期缓存</a></li><li><a href="/pages/0e8875/" class="sidebar-link">monitor-and-analyze</a></li><li><a href="/pages/7cfdc0/" class="sidebar-link">结论</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>渲染性能</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/7f377b/" class="sidebar-link">渲染性能</a></li><li><a href="/pages/ccf0ef/" class="sidebar-link">优化JavaScript执行</a></li><li><a href="/pages/bdf4e6/" class="sidebar-link">缩小样式计算的范围并降低其复杂性</a></li><li><a href="/pages/270241/" class="sidebar-link">简化绘制的复杂度、减小绘制区域</a></li><li><a href="/pages/ad1d46/" class="sidebar-link">坚持仅合成器的属性和管理层计数</a></li><li><a href="/pages/de7324/" class="sidebar-link">使输入处理程序去除抖动</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>审核网站</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/29e252/" class="sidebar-link">审核</a></li><li><a href="/pages/ec49df/" class="sidebar-link">准备工作</a></li><li><a href="/pages/c4f089/" class="sidebar-link">检查网站安全</a></li><li><a href="/pages/b7e0b0/" class="sidebar-link">测量性能工具</a></li><li><a href="/pages/bac92b/" class="sidebar-link">分享结果</a></li><li><a href="/pages/e05301/" class="sidebar-link">下一步</a></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-1cd794fe><div class="articleInfo" data-v-1cd794fe><ul class="breadcrumbs" data-v-1cd794fe><li data-v-1cd794fe><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-1cd794fe></a></li> <li data-v-1cd794fe><a href="/course/performance" title="《性能(Google Developers)》-目录页" data-v-1cd794fe>《性能(Google Developers)》</a></li> <li data-v-1cd794fe><a href="/course/performance/#加载性能" title="《性能(Google Developers)》#加载性能" data-v-1cd794fe>加载性能</a></li> <!----></ul> <div class="info" data-v-1cd794fe><div title="作者" class="author iconfont icon-touxiang" data-v-1cd794fe><a href="https://github.com/fineliving" target="_blank" title="作者" class="beLink" data-v-1cd794fe>Li Yang</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-1cd794fe><a href="javascript:;" data-v-1cd794fe>2020-11-20</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">
          通过客户提示适应用户
        </h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="通过客户提示适应用户"><a href="#通过客户提示适应用户" class="header-anchor">#</a> 通过客户提示适应用户</h1> <p>开发到处都是快速的站点可能是一个棘手的前景。过多的设备功能以及它们连接到的网络的质量，可能使它看起来像是一项无法克服的任务。虽然我们可以利用浏览器功能来改善加载性能，但是我们如何知道用户设备的功能或网络连接的质量呢？解决方案是<a href="https://tools.ietf.org/html/draft-ietf-httpbis-client-hints-06" target="_blank" rel="noopener noreferrer">客户提示<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>！</p> <p>客户端提示是一组可选的 HTTP 请求标头，可让我们深入了解用户设备及其所连接的网络的这些方面。通过挖掘这些信息的服务器端，我们可以改变<em>如何</em>，我们基于设备和/或网络条件下提供内容。这可以帮助我们创建更具包容性的用户体验。</p> <h2 id="全部与内容协商有关"><a href="#全部与内容协商有关" class="header-anchor">#</a> 全部与内容协商有关</h2> <p>客户端提示是<em>内容协商的</em>另一种方法，这意味着根据浏览器请求标头更改内容响应。</p> <p>内容协商的一个示例涉及 <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept" target="_blank" rel="noopener noreferrer"><code>Accept</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 请求标头。它描述了浏览器可以理解的<em>内容</em>类型，服务器可以用来<em>协商</em>响应的<em>内容</em>类型。对于图像请求，Chrome <code>Accept</code>标头的内容为：</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token header-name keyword">Accept:</span> image/webp,image/apng,image/*,*/*;q=0.8
</code></pre></div><p>虽然所有浏览器都支持 JPEG，PNG 和 GIF 等图像格式，但是 Accept 表示在这种情况下浏览器<em>还</em>支持<a href="https://developers.google.cn/speed/webp" target="_blank" rel="noopener noreferrer">WebP<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>和 <a href="https://en.wikipedia.org/wiki/APNG" target="_blank" rel="noopener noreferrer">APNG<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。使用此信息，我们可以为每种浏览器协商最佳图像类型：</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token comment">// Check Accept for an &quot;image/webp&quot; substring.</span>
<span class="token variable">$webp</span> <span class="token operator">=</span> <span class="token function">stristr</span><span class="token punctuation">(</span><span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string double-quoted-string">&quot;HTTP_ACCEPT&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;image/webp&quot;</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token constant boolean">false</span> <span class="token operator">?</span> <span class="token constant boolean">true</span> <span class="token punctuation">:</span> <span class="token constant boolean">false</span><span class="token punctuation">;</span>

<span class="token comment">// Set the image URL based on the browser's WebP support status.</span>
<span class="token variable">$imageFile</span> <span class="token operator">=</span> <span class="token variable">$webp</span> <span class="token operator">?</span> <span class="token string double-quoted-string">&quot;whats-up.webp&quot;</span> <span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;whats-up.jpg&quot;</span><span class="token punctuation">;</span>
<span class="token delimiter important">?&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span><span class="token punctuation">(</span><span class="token variable">$imageFile</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>I<span class="token punctuation">'</span>m an image!<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>像一样<code>Accept</code>，客户端提示是协商内容的另一种途径，但是在设备功能和网络条件下。借助客户端提示，我们可以根据用户的个人经验来决定服务器端的性能，例如确定是否应为网络状况较差的用户提供非关键资源。在本指南中，我们将描述所有可用的提示以及使用它们的一些方法，以使内容交付更适合用户。</p> <h2 id="选择加入"><a href="#选择加入" class="header-anchor">#</a> 选择加入</h2> <p>与<code>Accept</code>标头不同，客户端提示不只是神奇地出现（除了<code>Save-Data</code>，我们将在后面讨论）。为了尽量减少请求标头，您需要通过<code>Accept-CH</code>在用户请求资源时发送标头来选择要接收的客户端提示：</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token header-name keyword">Accept-CH:</span> Viewport-Width, Downlink
</code></pre></div><p>的值为<code>Accept-CH</code>逗号分隔的请求提示列表，该站点将在确定后续资源请求的结果时使用该提示。当客户端读取此标头时，将被告知“此站点需要<code>Viewport-Width</code> 和<code>Downlink</code>客户端提示。” 不必担心特定提示本身。我们一会儿再谈。</p> <p>还有一个可选的<code>Accept-CH-Lifetime</code>标头，用于指定时间长度（以秒为单位），浏览器应记住<code>Accept-CH</code>为原点设置的值 。</p> <p>**注意：**用户首次访问您的网站时，客户端提示不会出现在导航请求中。但是，如果您通过保留提示<code>Accept-CH-Lifetime</code>，则此信息将在导航请求中可用。</p> <p>您可以使用任何后端语言设置这些选择加入标头。例如，可以使用<a href="http://php.net/manual/en/function.header.php" target="_blank" rel="noopener noreferrer">PHP 的 <code>header</code>功能<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。你甚至可以设置这些选择在头<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-http-equiv" target="_blank" rel="noopener noreferrer">的<code>http-equiv</code> 属性<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 上的``标签：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Accept-CH<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Viewport-Width, Downlink<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Accept-CH-Lifetime<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>86400<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>**注意：**为了使客户端提示完全起作用，您的站点必须通过 HTTPS 提供服务！</p> <h2 id="所有的客户提示"><a href="#所有的客户提示" class="header-anchor">#</a> 所有的客户提示！</h2> <p>客户端提示描述了以下两件事之一：用户<em>使用</em>的设备，以及<em>使用</em>的设备以及他们用来访问您的网站的网络。让我们简要介绍所有可用的提示。</p> <h3 id="设备提示"><a href="#设备提示" class="header-anchor">#</a> 设备提示</h3> <p>一些客户端提示描述了用户设备的特征，通常是屏幕特征。它们中的一些可以帮助您为给定用户的屏幕选择最佳的媒体资源，但并非全部都必须以媒体为中心。</p> <p>在进入此列表之前，学习一些用于描述屏幕和媒体分辨率的关键术语可能会有所帮助：</p> <p>**内在尺寸：**媒体资源的实际尺寸。例如，如果您在 Photoshop 中打开图像，则图像尺寸对话框中显示的尺寸将描述其<em>固有尺寸</em>。</p> <p>**密度校正的固有大小：**已针对像素密度校正的媒体资源的尺寸。它是图像的<em>固有尺寸</em> 除以<a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/devicePixelRatio" target="_blank" rel="noopener noreferrer">设备像素比率<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。例如，让我们看一下这个标记：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>whats-up-1x.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>whats-up-2x.png 2x, whats-up-1x.png 1x<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>I<span class="token punctuation">'</span>m that image you wanted.<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>假设<code>1x</code>在这种情况下，<code>2x</code>图像的固有尺寸为 320x240， 图像的固有尺寸为 640x480。如果此标记是由安装在屏幕设备像素比率为 2（例如，视网膜屏幕）的设备上的客户端解析的，<code>2x</code>则请求图像。所述<em>密度校正的固有大小</em>的的<code>2x</code>图像为 320x240，由于 640×480 除以 2 为 320x240。</p> <p>**外在大小：**将 CSS 和其他布局因素（例如<code>width</code>和<code>height</code>属性）应用到媒体资源之后的大小。假设您有一个<code>元素，该元素加载具有校正后的内部尺寸为320x240的图像，但它同时具有CSS `width`和`height`属性，其值分别为`256px`和`192px`应用于。在此实例中，*外在大小*那个的</code>元素变为 256×192。</p> <p><img src="https://developers.google.cn/web/fundamentals/performance/optimizing-content-efficiency/client-hints/images/figure-1.svg" alt="内在大小与外在大小的说明。 显示的框尺寸为320x240像素，标签为“ INTRINSIC SIZE”。 在其中的是一个较小的框，其大小为256x192像素，它代表一个HTML 元素，其中应用了CSS。 此框标记为“外部尺寸”。 右边是一个包含CSS的框，该CSS应用于修改元素的元素"><strong>*图 1</strong>。内在大小与外在大小的说明。在将布局因素应用到图像后，图像将获得其外部尺寸。在这种情况下，施加的 CSS 规则<code>width: 256px;</code> 和<code>height: 192px;</code>变换 320×240 本质尺寸图像到一个 256×192 大小的外在一个。*</p> <p>掌握一些术语后，让我们进入可供您使用的特定于设备的客户端提示列表。</p> <h4 id="视口宽度"><a href="#视口宽度" class="header-anchor">#</a> 视口宽度</h4> <p><code>Viewport-Width</code> 是用户视口的宽度（以 CSS 像素为单位）：</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token header-name keyword">Viewport-Width:</span> 320
</code></pre></div><p>该提示可以与其他特定于屏幕的提示一起使用，以提供对特定屏幕尺寸（即<a href="https://www.smashingmagazine.com/2016/02/automatically-art-directed-responsive-images-go/" target="_blank" rel="noopener noreferrer">艺术方向<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>）最佳的图像不同处理（即裁切），或省略当前屏幕宽度不需要的资源。</p> <h4 id="dpr"><a href="#dpr" class="header-anchor">#</a> DPR</h4> <p><code>DPR</code>，是设备像素比率的缩写，报告用户屏幕的物理像素与 CSS 像素的比率：</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token header-name keyword">DPR:</span> 2
</code></pre></div><p>当选择与屏幕像素密度相对应的图像源时，此提示很有用（就像<code>x</code>描述符在<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#attr-srcset" target="_blank" rel="noopener noreferrer"><code>srcset</code> attribute 中一样<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>）。</p> <h4 id="宽度"><a href="#宽度" class="header-anchor">#</a> 宽度</h4> <p>该<code>Width</code>提示出现在对<code>或</code>使用<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#attr-sizes" target="_blank" rel="noopener noreferrer"><code>sizes</code> 属性<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>触发的图像资源请求中。 <code>sizes</code>告诉浏览器资源的外部大小是多少； <code>Width</code>使用该外部尺寸来请求具有对于当前布局最佳的内部尺寸的图像。</p> <p>例如，假设用户请求的页面具有 320 CSS 像素的宽屏幕，且 DPR 为 2。设备加载的文档中的<code>元素包含`sizes`属性值`85vw`（即，所有屏幕尺寸的视口宽度的85％） 。如果`Width`提示已经选择加入到，客户端将发送此`Width`提示与该请求的服务器</code>的<code>src</code>：</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token header-name keyword">Width:</span> 544
</code></pre></div><p>在这种情况下，客户端向服务器暗示，所请求图像的最佳固有宽度将是视口宽度（272 像素）的 85％乘以屏幕的 DPR（2），等于 544 像素。</p> <p>此提示特别有用，因为它不仅考虑了屏幕校正后的宽度，而且还将此关键信息与布局中图像的外部尺寸相协调。这使服务器有机会协商对于屏幕<em>和</em>布局均最佳的图像响应。</p> <h4 id="内容-dpr"><a href="#内容-dpr" class="header-anchor">#</a> 内容 DPR</h4> <p>尽管您已经知道<em>屏幕</em>具有设备的像素比率，但是资源也具有其自己的像素比率。在最简单的资源选择用例中，设备和资源之间的像素比率可以相同。但！在<code>DPR</code>和<code>Width</code>标头同时起作用的情况下，资源的外部大小可能会产生两者不同的情况。这是<code>Content-DPR</code>提示起作用的地方。</p> <p>不像其他的客户机提示，<code>Content-DPR</code>是不是一个<em>请求</em>要由服务器使用报头，而是一个<em>响应</em>报头服务器<em>必须</em>发送每当<code>DPR</code>和 <code>Width</code>提示用于选择的资源。的值<code>Content-DPR</code>应为以下公式的结果：</p> <p><code>Content-DPR</code>= [所选图像资源大小] /（[[ <code>Width</code>/ <code>DPR</code>]]</p> <p>当<code>Content-DPR</code>发送请求头时，浏览器将知道如何按比例给定图像为屏幕的装置中的像素比和布局。没有它，图像可能无法正确缩放。</p> <h4 id="设备内存"><a href="#设备内存" class="header-anchor">#</a> 设备内存</h4> <p>从技术上讲，它是<a href="https://www.w3.org/TR/device-memory-1/" target="_blank" rel="noopener noreferrer">设备内存 API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的一部分，<code>Device-Memory</code>显示 了当前设备在 GiB 中拥有<a href="https://www.w3.org/TR/device-memory-1/#sec-device-memory-client-hint-header" target="_blank" rel="noopener noreferrer">的大概内存量<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token header-name keyword">Device-Memory:</span> 2
</code></pre></div><p>**注意：**由于此信息<a href="https://blog.mozilla.org/internetcitizen/2018/07/26/this-is-your-digital-fingerprint/" target="_blank" rel="noopener noreferrer">可用于对用户进行指纹识别<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，因此的值<code>Device-Memory</code>特意粗糙。有效值为<code>0.25</code>， <code>0.5</code>，<code>1</code>，<code>2</code>，<code>4</code>，和<code>8</code>。</p> <p>此提示的可能用例是减少在内存有限的设备上发送给浏览器的 JavaScript 数量，<a href="https://medium.com/@addyosmani/the-cost-of-javascript-in-2018-7d8950fbb5d4" target="_blank" rel="noopener noreferrer">因为 JavaScript 是浏览器通常加载的最消耗资源的内容类型<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。或者，您可以发送较低的 DPR 图像，因为它们使用较少的内存进行解码。</p> <h3 id="网络提示"><a href="#网络提示" class="header-anchor">#</a> 网络提示</h3> <p>该<a href="https://wicg.github.io/netinfo/" target="_blank" rel="noopener noreferrer">网络信息 API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>提供描述用户的网络连接的性能的客户提示的另一个类别。我认为，这些是最有用的提示。通过它们，我们可以通过更改在慢速连接上向客户端提供资源的方式来为用户量身定制体验。</p> <p>**注意：**网络提示值是基于过去的等待时间和带宽读数的预测。因此，它们不是 100％准确的，但被认为足以满足客户提示用例。</p> <h4 id="rtt"><a href="#rtt" class="header-anchor">#</a> RTT</h4> <p>该<code>RTT</code>提示在应用程序层上提供了大约为毫秒的<em>往返时间</em>。<code>RTT</code>与传输层 RTT 不同，该提示包括服务器处理时间。</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token header-name keyword">RTT:</span> 125
</code></pre></div><p>**注意：**的值<code>RTT</code>四舍五入到最接近的 25 毫秒，以防止出现指纹。</p> <p>由于延迟在加载性能中扮演的角色，因此此提示很有用。使用<code>RTT</code>提示，我们可以基于网络响应能力做出决策，这可以帮助加快整个体验的交付（例如，通过省略一些请求）。</p> <h4 id="下行链接"><a href="#下行链接" class="header-anchor">#</a> 下行链接</h4> <p>虽然延迟对于加载性能很重要，但是带宽也很重要。该<code>Downlink</code>提示以每秒兆位（Mbps）表示，它揭示了用户连接的 <em>近似</em>下行速度：</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token header-name keyword">Downlink:</span> 2.5
</code></pre></div><p>**注意：**的值<code>Downlink</code>四舍五入为每秒 25 KB 的最接近倍数。再次因为有指纹。</p> <p>与结合使用<code>RTT</code>，<code>Downlink</code>可以根据网络连接的质量来更改将内容交付给用户的方式。</p> <h4 id="ect"><a href="#ect" class="header-anchor">#</a> ECT</h4> <p>该<code>ECT</code>提示代表<em>有效连接类型</em>。它的值是连接类型，其中的每一个描述的枚举列表之一<a href="https://wicg.github.io/netinfo/#effective-connection-types" target="_blank" rel="noopener noreferrer">两者的指定范围内的连接<code>RTT</code>和<code>Downlink</code> 值<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>此标头不解释<em>实际的</em>连接类型是什么，例如，它不报告网关是蜂窝塔还是 wifi 接入点。相反，它分析当前连接的等待时间和带宽，并确定它最类似于哪个网络配置文件。例如，如果您通过 wifi 连接到慢速网络，则<code>ECT</code>可能会填充值<code>2g</code>，这是<em>有效</em>连接的最近似值：</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token header-name keyword">ECT:</span> 2g
</code></pre></div><p>有效值<code>ECT</code>是<code>4g</code>，<code>3g</code>，<code>2g</code>，和<code>slow-2g</code>。该提示可以用作评估连接质量的起点，然后使用<code>RTT</code>和<code>Downlink</code>提示进行完善。</p> <h4 id="保存数据"><a href="#保存数据" class="header-anchor">#</a> 保存数据</h4> <p><code>Save-Data</code> 并不是描述网络状况的提示，而是用户喜好指出页面应发送较少的数据。</p> <p>**注意：**在所有客户端提示中，<code>Save-Data</code>是您唯一<em>不能</em>选择使用的提示<code>Accept-CH</code>。只有用户可以通过在 Android 设备上切换 Chrome 的<a href="https://support.google.com/chrome/answer/2392284" target="_blank" rel="noopener noreferrer">Data Saver 功能<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>来控制是否发送此提示。</p> <p>我更喜欢将其分类<code>Save-Data</code>为网络提示，因为您将要执行的许多操作与其他网络提示相似。用户也可能在高延迟/低带宽环境中启用它。该提示（如果存在）始终如下所示：</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token header-name keyword">Save-Data:</span> on
</code></pre></div><p>在 Google，<a href="https://developers.google.cn/web/fundamentals/performance/optimizing-content-efficiency/save-data" target="_blank" rel="noopener noreferrer">我们已经讨论了您可以使用做什么 <code>Save-Data</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。它可能会对性能产生深远的影响。这是用户实际上要求您向他们发送更少内容的信号！如果您收听并根据该信号采取行动，那么用户将不胜感激。</p> <h2 id="绑在一起"><a href="#绑在一起" class="header-anchor">#</a> 绑在一起</h2> <p>你有什么<em>做</em>用客户端提示取决于你。因为它们提供了很多信息，所以您有很多选择。为了使一些想法流淌，让我们看看客户的建议对<a href="https://github.com/malchata/client-hints-example" target="_blank" rel="noopener noreferrer">Sconnie Timber<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>可以做什么，<a href="https://github.com/malchata/client-hints-example" target="_blank" rel="noopener noreferrer">Sconnie Timber<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>是一家位于中西部中部乡村的虚构木材公司。<a href="https://www.technologyreview.com/s/603083/the-unacceptable-persistence-of-the-digital-divide/" target="_blank" rel="noopener noreferrer">就像在偏远地区一样<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，网络连接可能很脆弱。这是诸如客户提示之类的技术真正可以为用户带来改变的地方。</p> <h3 id="响应式图像"><a href="#响应式图像" class="header-anchor">#</a> 响应式图像</h3> <p>除了最简单的响应式图像用例之外，所有其他用例都可能变得复杂。如果您针对不同的屏幕尺寸<em>和</em>格式使用同一图像的多种处理方式<em>和</em>变体，该怎么办？该标记得到<a href="https://dev.opera.com/articles/responsive-images/#changing-image-sizes-high-dpi-images-different-image-types--art-direction-use-case" target="_blank" rel="noopener noreferrer"><em>非常</em><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><a href="https://dev.opera.com/articles/responsive-images/#changing-image-sizes-high-dpi-images-different-image-types--art-direction-use-case" target="_blank" rel="noopener noreferrer">复杂<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><a href="https://dev.opera.com/articles/responsive-images/#changing-image-sizes-high-dpi-images-different-image-types--art-direction-use-case" target="_blank" rel="noopener noreferrer"><em>非常</em><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><a href="https://dev.opera.com/articles/responsive-images/#changing-image-sizes-high-dpi-images-different-image-types--art-direction-use-case" target="_blank" rel="noopener noreferrer"> 快<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。容易出错，容易忘记或误解重要概念（例如）。<code>sizes</code></p> <p>虽然<code>并且工具`srcset`无疑是*很棒的*工具，但是对于复杂的用例，它们的开发和维护可能非常耗时。我们可以使标记生成自动化，但是这样做也很困难，因为功能</code>和<code>srcset</code>提供的功能 足够复杂，以至于需要以保持其提供的灵活性的方式来实现其自动化。</p> <p>客户提示可以简化此过程。与客户提示协商图像响应可能看起来像这样：</p> <ol><li>如果适用于您的工作流程，请首先通过检查<code>Viewport-Width</code>提示来选择图像处理（即艺术指导的图像）。</li> <li>通过检查<code>Width</code>提示和<code>DPR</code>提示，然后选择适合图像布局大小和屏幕密度的源（类似于<code>x</code>和<code>w</code>描述符的工作方式<code>srcset</code>），选择图像分辨率。</li> <li>选择浏览器支持的最佳文件格式（这<code>Accept</code> 可以帮助我们在大多数浏览器中完成操作）。</li></ol> <p>对于我的虚拟木材公司客户，我用 PHP 开发了一个幼稚的响应图像选择例程，该例程使用了客户提示。这意味着不是将此标记发送给所有用户：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>picture</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>company-photo-256w.webp 256w, company-photo-512w.webp 512w, company-photo-768w.webp 768w, company-photo-1024w.webp 1024w, company-photo-1280w.webp 1280w<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>image/webp<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
    <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>company-photo-256w.jpg 256w, company-photo-512w.jpg 512w, company-photo-768w.jpg 768w, company-photo-1024w.jpg 1024w, company-photo-1280w.jpg 1280w<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>company-photo-256w.jpg<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">sizes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(min-width: 560px) 251px, 88.43vw<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>The Sconnie Timber Staff!<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>picture</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>我可以根据各个浏览器的支持将其简化为以下几种：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/image/sizes:true/company-photo.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">sizes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(min-width: 560px) 251px, 88.43vw<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>SAY CHEESY PICKLES.<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>在此示例中，<code>/image</code>URL 是一个 PHP 脚本，后跟由<a href="https://httpd.apache.org/docs/current/mod/mod_rewrite.html" target="_blank" rel="noopener noreferrer">mod_rewrite<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>重写的参数 。它需要图像文件名和其他参数，以帮助后端脚本在给定条件下选择最佳图像。</p> <p>我感觉*“但不是这只是重新实现``，并<code>srcset</code>在后台？”* 是你的第一个问题。</p> <p>在某种程度上，是的，但是有一个重要的区别：当应用程序使用客户端提示来制作媒体响应时，大多数（如果不是全部）工作更容易实现自动化，其中可以包括一项服务（例如 CDN）可以代表您这样做。鉴于 HTML 解决方案，需要编写新的标记以提供每种用例。当然，您<em>可以</em>自动生成标记。但是，如果您的设计或需求有所变化，将来很有可能需要重新考虑自动化策略。</p> <p>客户提示使从无损，高分辨率的主图像开始，然后可以对其进行动态调整大小，使其最适合屏幕和布局的<em>任何</em>组合。不同于<code>srcset</code>，您需要枚举固定的可能候选图像列表供浏览器选择，而这种方法可以更加灵活。虽然<code>srcset</code>迫使你提供浏览器粗集变形，发言权，<code>256w</code>，<code>512w</code>，<code>768w</code>，和<code>1024w</code>-a 客户提示供电解决方案可以为所有的宽度，没有标记的一个巨大的一堆。</p> <p>当然，你不必<em>有</em>自己写的图像选择逻辑。<a href="https://cloudinary.com/blog/automatic_responsive_images_with_client_hints" target="_blank" rel="noopener noreferrer">当您使用<code>w_auto</code> 参数时<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，<a href="https://cloudinary.com/blog/automatic_responsive_images_with_client_hints" target="_blank" rel="noopener noreferrer">Cloudinary 使用客户端提示来制作图像响应<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，并观察到中位数用户在使用支持客户端提示的浏览器时下载的字节减少了 42％。</p> <p>但是要当心！<a href="https://cloudinary.com/blog/client_hints_and_responsive_images_what_changed_in_chrome_67" target="_blank" rel="noopener noreferrer">桌面版 Chrome 67 的更改已删除了对跨域客户端提示的支持<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。幸运的是，这些限制不会影响 Chrome 的移动版本，并且在完成“ <a href="https://wicg.github.io/feature-policy/" target="_blank" rel="noopener noreferrer">功能政策”后<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，所有平台都将完全取消这些限制。</p> <h3 id="帮助网络缓慢的用户"><a href="#帮助网络缓慢的用户" class="header-anchor">#</a> 帮助网络缓慢的用户</h3> <p><em>自适应性能</em>是一种想法，我们可以根据客户提示提供给我们的信息来调整我们如何交付资源；特别是有关用户网络连接当前状态的信息。</p> <p>凡 Sconnie 木材的网站来讲，我们会采取措施，以减轻负荷情况下的网络速度慢，有<code>Save-Data</code>，<code>ECT</code>，<code>RTT</code>，和<code>Downlink</code>正在我们的后端代码检查头。完成此操作后，我们将生成网络质量评分，可用于确定是否应进行干预以获得更好的用户体验。该网络得分在<code>0</code>和之间<code>1</code>，其中<code>0</code>网络质量可能最差，<code>1</code>也是最好的。</p> <p>最初，我们检查是否<code>Save-Data</code>存在。如果是，则将分数设置为 <code>0</code>，因为我们假设用户希望我们做所有必要的事情以使体验更轻松，更快捷。</p> <p>如果<code>Save-Data</code>不存在，但是，我们继续前进，衡量的价值<code>ECT</code>， <code>RTT</code>和<code>Downlink</code>提示，以计算描述网络连接的质量分数。所述<a href="https://github.com/malchata/client-hints-example/blob/master/includes/functions.php#L8" target="_blank" rel="noopener noreferrer">网络得分生成源代码<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 是可用在 Github。结论是，如果我们以<em>某种</em>方式使用与网络相关的提示 ，则可以为网络速度较慢的用户提供更好的体验。</p> <p><img src="https://developers.google.cn/web/fundamentals/performance/optimizing-content-efficiency/client-hints/images/figure-2-1x.png" alt="一个网站的比较"><strong>*图 2</strong>。本地商户网站的“关于我们”页面。基准体验包括 Web 字体，驱动轮播和手风琴行为的 JavaScript 以及内容图像。当网络状况太慢而无法快速加载时，我们可以忽略所有这些内容。*</p> <p>当网站适应客户提示提供的信息时，我们不必采用“全有或全无”的方法。我们可以明智地决定发送哪些资源。我们可以修改响应式图像选择逻辑，以针对给定的显示器发送较低质量的图像，以在网络质量较差时加快加载性能。</p> <p>在此示例中，我们可以看到客户端提示对提高慢速网络上站点的性能产生的影响。以下是慢速网络上无法适应客户端提示的站点的 WebPagetest 瀑布：</p> <p><img src="https://developers.google.cn/web/fundamentals/performance/optimizing-content-efficiency/client-hints/images/figure-3.png" alt="Sconnie Timber站点的WebPagetest瀑布通过缓慢的网络连接加载所有资源。"><strong>*图 3</strong>。资源密集型站点在缓慢的连接上加载图像，脚本和字体。*</p> <p>现在，在相同的慢速连接上，这是同一站点的瀑布，除了这次，该站点使用客户端提示来消除非关键的页面资源：</p> <p><img src="https://developers.google.cn/web/fundamentals/performance/optimizing-content-efficiency/client-hints/images/figure-4.png" alt="Sconnie Timber站点的WebPagetest瀑布，使用客户端提示来决定是否在慢速网络连接上不加载非关键资源。"><strong>*图 4</strong>。相同连接上的相同站点，仅排除了“不错”的资源，以便更快地加载。*</p> <p>客户端提示将页面加载时间从超过 45 秒<em>减少</em>到<em>不到该时间的十分之一</em>。在这种情况下，客户端提示的好处不能得到足够的重视，对于在慢速网络上寻求关键信息的用户而言，这可能是一个很大的福音。</p> <p>此外，可以使用客户端提示而不会破坏不支持客户端提示的浏览器的体验。例如，如果我们想使用<code>ECT</code>提示的值来调整资源交付，同时仍为不支持的浏览器提供完整的体验，则可以将回退设置为默认值，如下所示：</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Set the ECT value to &quot;4g&quot; by default.</span>
<span class="token variable">$ect</span> <span class="token operator">=</span> <span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string double-quoted-string">&quot;HTTP_ECT&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string double-quoted-string">&quot;HTTP_ECT&quot;</span><span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;4g&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>在这里，<code>&quot;4g&quot;</code>代表<code>ECT</code>标题描述的最高质量的网络连接。如果我们初始化<code>$ect</code>为<code>&quot;4g&quot;</code>，则不支持客户端提示的浏览器将不会受到影响。选择加入 FTW！</p> <h2 id="注意那些缓存"><a href="#注意那些缓存" class="header-anchor">#</a> 注意那些缓存！</h2> <p>每当您更改基于 HTTP 标头的响应时，都需要了解缓存如何处理该资源将来的提取。<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Vary" target="_blank" rel="noopener noreferrer">所述<code>Vary</code> 报头<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>是不可缺少的在这里，因为它的密钥缓存条目提供给它的请求头的值。简而言之，如果您基于给定的 HTTP 请求标头修改任何响应，则几乎应始终包括以下请求标头<code>Vary</code> ：</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token header-name keyword">Vary:</span> DPR, Width
</code></pre></div><p>不过，有一个<em>很大的</em>警告：您永远不想<code>Vary</code>在频繁更改的标头（如<code>Cookie</code>）上缓存可响应，因为这些资源实际上变得不可缓存。知道这一点后，您可能希望避免使用 <code>Vary</code>诸如<code>RTT</code>或的客户端提示标头<code>Downlink</code>，因为这些是可能经常更改的连接因素。如果要修改这些标头上的响应，请考虑仅键入<code>ECT</code>标头，这样可以最大程度地减少缓存丢失。</p> <p>当然，这仅适用于首先缓存响应的情况。例如，如果 HTML 资产的内容是动态的，则不会缓存它们，因为这可能会破坏重复访问的用户体验。在这种情况下，请随时根据自己的需要修改自己的反应，而不用担心自己<code>Vary</code>。</p> <h2 id="客户提示服务人员"><a href="#客户提示服务人员" class="header-anchor">#</a> 客户提示服务人员</h2> <p>内容协商不再只是针对服务器！由于服务人员充当客户端和服务器之间的代理，因此您可以控制如何通过 JavaScript 交付资源。这包括客户端提示。在服务工作者 <code>fetch</code>事件中，可以使用<code>event</code>对象的 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request/headers" target="_blank" rel="noopener noreferrer"><code>request.headers.get</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 方法来读取资源的请求标头，如下所示：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>self<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'fetch'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> dpr <span class="token operator">=</span> event<span class="token punctuation">.</span>request<span class="token punctuation">.</span>headers<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'DPR'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> viewportWidth <span class="token operator">=</span> event<span class="token punctuation">.</span>request<span class="token punctuation">.</span>headers<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'Viewport-Width'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> width <span class="token operator">=</span> event<span class="token punctuation">.</span>request<span class="token punctuation">.</span>headers<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'Width'</span><span class="token punctuation">)</span>

  event<span class="token punctuation">.</span><span class="token function">respondWith</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Do what you will with these hints!</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>**警告：**由于并非所有浏览器都支持客户端提示，因此您需要检查<code>event.request.headers.get</code>返回的值 。一种可能的替代方法是记录 JS 当量如 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/devicePixelRatio" target="_blank" rel="noopener noreferrer"><code>window.devicePixelRatio</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 或<a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/innerWidth" target="_blank" rel="noopener noreferrer"><code>window.innerWidth</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>到 <a href="https://developers.google.cn/web/ilt/pwa/working-with-indexeddb" target="_blank" rel="noopener noreferrer"><code>IndexedDB</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，这是在服务范围工人访问。</p> <p>您选择加入的任何客户端提示头都可以这种方式读取。虽然这不是获取某些信息的唯一方法。可以在<code>navigator</code>对象的以下等效 JavaScript 属性中读取特定于网络的提示：</p> <table><thead><tr><th style="text-align:left;">客户提示</th> <th style="text-align:left;">相当于 JS</th></tr></thead> <tbody><tr><td style="text-align:left;"><code>ECT</code></td> <td style="text-align:left;"><code>navigator.connection.effectiveType</code></td></tr> <tr><td style="text-align:left;"><code>RTT</code></td> <td style="text-align:left;"><code>navigator.connection.rtt</code></td></tr> <tr><td style="text-align:left;"><code>Save-Data</code></td> <td style="text-align:left;"><code>navigator.connection.saveData</code></td></tr> <tr><td style="text-align:left;"><code>Downlink</code></td> <td style="text-align:left;"><code>navigator.connection.downlink</code></td></tr> <tr><td style="text-align:left;"><code>Device-Memory</code></td> <td style="text-align:left;"><code>navigator.deviceMemory</code></td></tr></tbody></table> <p>由于这些 API 并非在所有地方都可用，因此您需要与<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/in" target="_blank" rel="noopener noreferrer"><code>in</code> 操作员进行<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>功能检查 ：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'connection'</span> <span class="token keyword">in</span> navigator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Work with netinfo API properties in JavaScript!</span>
<span class="token punctuation">}</span>
</code></pre></div><p>从这里开始，您可以使用与在服务器上使用的逻辑类似的逻辑，只是<em>不需要</em>服务器与客户端提示协商内容。由于服务工作者必须在用户离线时提供内容的附加能力，仅服务工作者就有能力使体验变得更快，更富有弹性。</p> <h2 id="包起来"><a href="#包起来" class="header-anchor">#</a> 包起来</h2> <p>借助客户的提示，我们有能力以完全渐进的方式为用户带来更快的体验。我们可以根据用户设备的功能来提供媒体服务，这种方式比依靠``and 更加容易提供响应图像<code>srcset</code>，尤其是对于复杂的用例。这使我们不仅可以减少开发方面的时间和精力，还可以优化资源（尤其是图像），从而使用户的屏幕比目标屏幕更精细。 和 srcset 可以。</p> <p>也许更重要的是，我们可以通过修改发送的内容以及发送的方式来侦听不良的网络连接并为用户消除差距。这可以走<em>很长</em>的制作网站更容易获得对脆弱的网络用户的方式。结合服务人员，我们可以创建可脱机访问的快速站点。</p> <p>虽然客户端提示仅在 Chrome 和基于 Chromium 的浏览器中可用，但可以以不妨碍不支持它们的浏览器的方式使用它们。考虑使用客户端提示来创建真正具有包容性和适应性的体验，这些体验可以了解每个用户的设备功能以及他们所连接的网络。希望其他浏览器供应商将看到它们的价值并表现出实施的意图。</p> <h3 id="资源资源"><a href="#资源资源" class="header-anchor">#</a> 资源资源</h3> <ul><li><a href="https://cloudinary.com/blog/automatic_responsive_images_with_client_hints" target="_blank" rel="noopener noreferrer">具有客户提示的自动响应图像<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://cloudinary.com/blog/client_hints_and_responsive_images_what_changed_in_chrome_67" target="_blank" rel="noopener noreferrer">客户端提示和响应图像-Chrome 67 中的更改<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.youtube.com/watch?v=md7Ua82fPe4" target="_blank" rel="noopener noreferrer">采取（客户）提示！<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> （<a href="https://jlwagner.net/talks/take-a-client-hint" target="_blank" rel="noopener noreferrer">幻灯片<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>）</li> <li><a href="https://developers.google.cn/web/fundamentals/performance/optimizing-content-efficiency/save-data" target="_blank" rel="noopener noreferrer">通过以下方式提供快速轻便的应用程序 <code>Save-Data</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p><em>感谢<a href="https://twitter.com/igrigorik" target="_blank" rel="noopener noreferrer">Ilya Grigorik<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，<a href="https://twitter.com/etportis" target="_blank" rel="noopener noreferrer">Eric Portis<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，<a href="https://twitter.com/jeffposnick" target="_blank" rel="noopener noreferrer">Jeff Posnick<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，<a href="https://twitter.com/yoavweiss" target="_blank" rel="noopener noreferrer">Yoav Weiss<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>和<a href="https://twitter.com/estellevw" target="_blank" rel="noopener noreferrer">Estelle Weyl<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>对本文的宝贵反馈和修改。</em></p></div></div> <!----> <div class="page-edit"><!----> <!----> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/16e316/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">网页字体优化</div></a> <a href="/pages/d34d56/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">通过保存数据交付快速轻便的应用程序</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/16e316/" class="prev">网页字体优化</a></span> <span class="next"><a href="/pages/d34d56/">通过保存数据交付快速轻便的应用程序</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/1c4e14/"><div>你想知道的css hack知识全都帮你整理好了</div></a> <span>06-08</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/d8a080/"><div>问题和经验</div></a> <span>06-08</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/a93118/"><div>CSS Hack</div></a> <span>06-08</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:894072666@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/xugaoyi" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2021
    <span>Evan Xu | MIT License</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.40794b05.js" defer></script><script src="/assets/js/2.21c2c3d2.js" defer></script><script src="/assets/js/224.9129f3cf.js" defer></script>
  </body>
</html>